{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"alloyfinger\"","webpack:///./src/main.less?38ae","webpack:///./src/main.less","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./node_modules/style-loader/lib/addStyles.js","webpack:///./node_modules/style-loader/lib/urls.js","webpack:///./src/utils/image_loaded.js","webpack:///./src/utils/to.js","webpack:///./src/utils/transform.js","webpack:///./src/utils/ease.js","webpack:///./src/imgAlloyFinger.js","webpack:///./src/utils/orientation.js","webpack:///./src/utils/scrollThrough.js","webpack:///./src/imgViewer.js","webpack:///./src/imgListViewer.js","webpack:///./src/utils/error_plh.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","content","options","transform","undefined","locals","___CSS_LOADER_API_IMPORT___","push","useSourceMap","list","toString","this","map","item","cssMapping","btoa","sourceMapping","sourceMap","base64","unescape","encodeURIComponent","JSON","stringify","data","concat","sourceURLs","sources","source","sourceRoot","join","cssWithMappingToString","mediaQuery","dedupe","alreadyImportedModules","length","id","_i","fn","memo","stylesInDom","isOldIE","window","document","all","atob","apply","arguments","getTarget","target","parent","querySelector","getElement","styleTarget","HTMLIFrameElement","contentDocument","head","e","singleton","singletonCounter","stylesInsertedAtTop","fixUrls","addStylesToDom","styles","domStyle","refs","j","parts","addStyle","listToStyles","newStyles","base","part","css","media","insertStyleElement","style","insertInto","Error","lastStyleElementInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","before","removeStyleElement","parentNode","removeChild","idx","indexOf","splice","createStyleElement","createElement","attrs","type","nonce","getNonce","addAttrs","el","keys","forEach","setAttribute","obj","update","remove","result","default","styleIndex","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","link","rel","createLinkElement","updateLink","href","applyToTag","newObj","DEBUG","newList","mayRemove","textStore","replaceText","index","replacement","filter","Boolean","styleSheet","cssText","cssNode","createTextNode","childNodes","autoFixUrls","convertToAbsoluteUrls","blob","oldSrc","location","baseUrl","protocol","host","currentDir","pathname","replace","fullMatch","origUrl","newUrl","unquotedOrigUrl","trim","$1","test","imageLoaded","imgUrl","onload","onFinish","img","Image","width","height","onerror","src","To","time","ease","onEnd","onChange","current","dv","beginTime","Date","self","currentEase","a","tickID","toTick","dt","cancelAnimationFrame","requestAnimationFrame","List","lastTime","vendors","x","callback","currTime","getTime","timeToCall","Math","max","setTimeout","clearTimeout","stopAll","len","stop","to","Matrix3D","n11","n12","n13","n14","n21","n22","n23","n24","n31","n32","n33","n34","n41","n42","n43","n44","elements","Float32Array","te","observe","props","watch","prop","set","element","mtx","matrix3D","identity","appendTransform","translateX","translateY","translateZ","scaleX","scaleY","scaleZ","rotateX","rotateY","rotateZ","skewX","skewY","originX","originY","originZ","msTransform","OTransform","MozTransform","webkitTransform","perspective","Array","slice","sqrt","pow","noop","DEG_TO_RAD","PI","multiplyMatrices","be","ae","a11","a12","a13","a14","a21","a22","a23","a24","a31","a32","a33","a34","a41","a42","a43","a44","b11","b12","b13","b14","b21","b22","b23","b24","b31","b32","b33","b34","b41","b42","b43","b44","_rounded","round","y","z","rx","cosx","cos","sinx","sin","ry","cosy","siny","rz","cosz","sinz","triggerPointEnd","dom","imgMinScale","imgMaxScale","triggerDoubleTab","evt","changedTouches","pageX","pageY","box","getBoundingClientRect","topY","innerHeight","getImgDomTopY","leftX","innerWidth","getImgDomLeftX","imgAlloyFinger","pressMoveListener","touchEndListener","singleTapListener","swipeListener","doubleTapListener","multipointEndListener","multipointStartListener","rotateListener","pinchListener","Transform","initScale","disableSingleTab","alloyFinger","AlloyFinger","multipointStart","rotate","preventDefault","stopPropagation","pinch","multipointEnd","pressMove","doubleTap","touchEnd","swipe","singleTap","orientation","listener","addEventListener","removeEventListener","scrollTop","scrollLeft","bodyPosition","toggleForbidScrollThrough","body","position","isForbide","documentElement","top","left","scrollTo","containerDom","imgDom","loadingDom","orit","viewerData","containerAlloyFinger","showViewer","imgObj","hideViewer","scrollThrough","wrapOptions","errorPlh","onViewerHideListener","restDoms","imgMoveFactor","zIndex","viewerBg","clickClosable","userOrientationListener","appendViewerContainer","appendSingleViewer","handleRestDoms","notifyUser","removeViewerContainer","docfrag","createDocumentFragment","additionDom","nodeType","console","warn","alt","imgClickListener","resetImgDom","w","h","imgWidth","error","angle","zoom","deltaX","deltaY","rotation","triggerRotateEnd","getElementById","background","viewerContainerClickListener","destroy","panelDom","currPage","viewerAlloyFinger","showImgListViewer","imgList","screenRotated","isArray","cachedCurrPage","hideImgListViewer","initParams","appendViewerPanel","scrollToFixedPage","defaultPageIndex","handleImgDoms","handleOrientationChange","setCurrentPage","pageIndex","limit","lastIndex","updateDom","page","currNode","hasAttribute","replaceChild","endedIndex","halfCount","floor","firstHalf","firstHalfEndedIndex","secondHalf","secondHalfEndedIndex","currImgDom","getCurrImgDom","screenRotation","onPageChanged","pageThreshold","pageDampingFactor","plDom","createImgPl","cloneNode","replaceImgDom","prevPage","imgContainerDoms","nextIndex","nextNode","ppIndex","ppNode","prevIndex","prevNode","nnIndex","nnNode","pl","visibility","scrollToPage","targetPage","panelToX","toX","abs","imgOnloadListener","url","imgContainerDom","genImgId","imgOnerrorListener","pageCount","scrollFactor","factor","fixedCurrPage","direction","currPageTranslateStart","panelTranslateX","realWidth","scaledWidth","imgTranslateX","panelReturnDis","newPage","viewer","imgViewer","imgListViewer"],"mappings":"2BACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QA0Df,OArDAF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,G,gBClFrDhC,EAAOD,QAAUkC,QAAQ,gB,gBCCzB,IAAIC,EAAU,EAAQ,GAEA,iBAAZA,IAAsBA,EAAU,CAAC,CAAClC,EAAOC,EAAIiC,EAAS,MAOhE,IAAIC,EAAU,CAAC,KAAM,EAErB,eAPIC,EAQJ,gBAAqBC,GAER,EAAQ,EAAR,CAA0DH,EAASC,GAE7ED,EAAQI,SAAQtC,EAAOD,QAAUmC,EAAQI,S,iBCf5CvC,EADkC,EAAQ,EAChCwC,EAA4B,IAE9BC,KAAK,CAACxC,EAAOC,EAAI,0zDAA6zD,KAEt1DD,EAAOD,QAAUA,G,6BCEjBC,EAAOD,QAAU,SAAU0C,GACzB,IAAIC,EAAO,GAuDX,OArDAA,EAAKC,SAAW,WACd,OAAOC,KAAKC,KAAI,SAAUC,GACxB,IAAIZ,EAsDV,SAAgCY,EAAML,GACpC,IAAIP,EAAUY,EAAK,IAAM,GAErBC,EAAaD,EAAK,GAEtB,IAAKC,EACH,OAAOb,EAGT,GAAIO,GAAgC,mBAATO,KAAqB,CAC9C,IAAIC,GAWWC,EAXeH,EAa5BI,EAASH,KAAKI,SAASC,mBAAmBC,KAAKC,UAAUL,MACzDM,EAAO,+DAA+DC,OAAON,GAC1E,OAAOM,OAAOD,EAAM,QAdrBE,EAAaX,EAAWY,QAAQd,KAAI,SAAUe,GAChD,MAAO,iBAAiBH,OAAOV,EAAWc,YAAc,IAAIJ,OAAOG,EAAQ,UAE7E,MAAO,CAAC1B,GAASuB,OAAOC,GAAYD,OAAO,CAACR,IAAgBa,KAAK,MAOrE,IAAmBZ,EAEbC,EACAK,EAPJ,MAAO,CAACtB,GAAS4B,KAAK,MAvEJC,CAAuBjB,EAAML,GAE3C,OAAIK,EAAK,GACA,UAAUW,OAAOX,EAAK,GAAI,MAAMW,OAAOvB,EAAS,KAGlDA,KACN4B,KAAK,KAKVpB,EAAKzC,EAAI,SAAUE,EAAS6D,EAAYC,GACf,iBAAZ9D,IAETA,EAAU,CAAC,CAAC,KAAMA,EAAS,MAG7B,IAAI+D,EAAyB,GAE7B,GAAID,EACF,IAAK,IAAIhE,EAAI,EAAGA,EAAI2C,KAAKuB,OAAQlE,IAAK,CAEpC,IAAImE,EAAKxB,KAAK3C,GAAG,GAEP,MAANmE,IACFF,EAAuBE,IAAM,GAKnC,IAAK,IAAIC,EAAK,EAAGA,EAAKlE,EAAQgE,OAAQE,IAAM,CAC1C,IAAIvB,EAAO,GAAGW,OAAOtD,EAAQkE,IAEzBJ,GAAUC,EAAuBpB,EAAK,MAKtCkB,IACGlB,EAAK,GAGRA,EAAK,GAAK,GAAGW,OAAOO,EAAY,SAASP,OAAOX,EAAK,IAFrDA,EAAK,GAAKkB,GAMdtB,EAAKF,KAAKM,MAIPJ,I,gBC3DT,IAEwB4B,EACnBC,EAHDC,EAAc,GAWdC,GAToBH,EASF,WAMrB,OAAOI,QAAUC,UAAYA,SAASC,MAAQF,OAAOG,MAZ9C,WAEN,YADoB,IAATN,IAAsBA,EAAOD,EAAGQ,MAAMlC,KAAMmC,YAChDR,IAaLS,EAAY,SAAUC,EAAQC,GAChC,OAAIA,EACKA,EAAOC,cAAcF,GAEvBN,SAASQ,cAAcF,IAG5BG,EAAa,SAAWd,GAC3B,IAAIC,EAAO,GAEX,OAAO,SAASU,EAAQC,GAMT,GAAsB,mBAAXD,EACH,OAAOA,IAEf,QAA4B,IAAjBV,EAAKU,GAAyB,CACtD,IAAII,EAAcL,EAAU5E,KAAKwC,KAAMqC,EAAQC,GAE/C,GAAIR,OAAOY,mBAAqBD,aAAuBX,OAAOY,kBAC7D,IAGCD,EAAcA,EAAYE,gBAAgBC,KACzC,MAAMC,GACPJ,EAAc,KAGhBd,EAAKU,GAAUI,EAEhB,OAAOd,EAAKU,IA1BG,GA8BbS,EAAY,KACZC,EAAmB,EACnBC,EAAsB,GAEtBC,EAAU,EAAQ,GAqDtB,SAASC,EAAgBC,EAAQ5D,GAChC,IAAK,IAAIlC,EAAI,EAAGA,EAAI8F,EAAO5B,OAAQlE,IAAK,CACvC,IAAI6C,EAAOiD,EAAO9F,GACd+F,EAAWxB,EAAY1B,EAAKsB,IAEhC,GAAG4B,EAAU,CACZA,EAASC,OAET,IAAI,IAAIC,EAAI,EAAGA,EAAIF,EAASG,MAAMhC,OAAQ+B,IACzCF,EAASG,MAAMD,GAAGpD,EAAKqD,MAAMD,IAG9B,KAAMA,EAAIpD,EAAKqD,MAAMhC,OAAQ+B,IAC5BF,EAASG,MAAM3D,KAAK4D,EAAStD,EAAKqD,MAAMD,GAAI/D,QAEvC,CACN,IAAIgE,EAAQ,GAEZ,IAAQD,EAAI,EAAGA,EAAIpD,EAAKqD,MAAMhC,OAAQ+B,IACrCC,EAAM3D,KAAK4D,EAAStD,EAAKqD,MAAMD,GAAI/D,IAGpCqC,EAAY1B,EAAKsB,IAAM,CAACA,GAAItB,EAAKsB,GAAI6B,KAAM,EAAGE,MAAOA,KAKxD,SAASE,EAAc3D,EAAMP,GAI5B,IAHA,IAAI4D,EAAS,GACTO,EAAY,GAEPrG,EAAI,EAAGA,EAAIyC,EAAKyB,OAAQlE,IAAK,CACrC,IAAI6C,EAAOJ,EAAKzC,GACZmE,EAAKjC,EAAQoE,KAAOzD,EAAK,GAAKX,EAAQoE,KAAOzD,EAAK,GAIlD0D,EAAO,CAACC,IAHF3D,EAAK,GAGO4D,MAFV5D,EAAK,GAEmBI,UADpBJ,EAAK,IAGjBwD,EAAUlC,GACTkC,EAAUlC,GAAI+B,MAAM3D,KAAKgE,GADXT,EAAOvD,KAAK8D,EAAUlC,GAAM,CAACA,GAAIA,EAAI+B,MAAO,CAACK,KAIjE,OAAOT,EAGR,SAASY,EAAoBxE,EAASyE,GACrC,IAAI3B,EAASG,EAAWjD,EAAQ0E,YAEhC,IAAK5B,EACJ,MAAM,IAAI6B,MAAM,+GAGjB,IAAIC,EAAgCnB,EAAoBA,EAAoBzB,OAAS,GAErF,GAAyB,QAArBhC,EAAQ6E,SACND,EAEMA,EAA8BE,YACxChC,EAAOiC,aAAaN,EAAOG,EAA8BE,aAEzDhC,EAAOkC,YAAYP,GAJnB3B,EAAOiC,aAAaN,EAAO3B,EAAOmC,YAMnCxB,EAAoBpD,KAAKoE,QACnB,GAAyB,WAArBzE,EAAQ6E,SAClB/B,EAAOkC,YAAYP,OACb,IAAgC,iBAArBzE,EAAQ6E,WAAyB7E,EAAQ6E,SAASK,OAInE,MAAM,IAAIP,MAAM,8LAHhB,IAAIG,EAAc7B,EAAWjD,EAAQ6E,SAASK,OAAQpC,GACtDA,EAAOiC,aAAaN,EAAOK,IAM7B,SAASK,EAAoBV,GAC5B,GAAyB,OAArBA,EAAMW,WAAqB,OAAO,EACtCX,EAAMW,WAAWC,YAAYZ,GAE7B,IAAIa,EAAM7B,EAAoB8B,QAAQd,GACnCa,GAAO,GACT7B,EAAoB+B,OAAOF,EAAK,GAIlC,SAASG,EAAoBzF,GAC5B,IAAIyE,EAAQjC,SAASkD,cAAc,SAMnC,QAJ0BxF,IAAvBF,EAAQ2F,MAAMC,OAChB5F,EAAQ2F,MAAMC,KAAO,iBAGK1F,IAAxBF,EAAQ2F,MAAME,MAAqB,CACrC,IAAIA,EAgCN,WACK,EAIJ,OAAO,KArCMC,GACRD,IACH7F,EAAQ2F,MAAME,MAAQA,GAOxB,OAHAE,EAAStB,EAAOzE,EAAQ2F,OACxBnB,EAAmBxE,EAASyE,GAErBA,EAiBR,SAASsB,EAAUC,EAAIL,GACtBnH,OAAOyH,KAAKN,GAAOO,SAAQ,SAAU7G,GACpC2G,EAAGG,aAAa9G,EAAKsG,EAAMtG,OAY7B,SAAS4E,EAAUmC,EAAKpG,GACvB,IAAIyE,EAAO4B,EAAQC,EAAQC,EAG3B,GAAIvG,EAAQC,WAAamG,EAAI9B,IAAK,CAK9B,KAJAiC,EAAsC,mBAAtBvG,EAAQC,UACxBD,EAAQC,UAAUmG,EAAI9B,KACtBtE,EAAQC,UAAUuG,QAAQJ,EAAI9B,MAS7B,OAAO,aAJP8B,EAAI9B,IAAMiC,EAUf,GAAIvG,EAAQuD,UAAW,CACtB,IAAIkD,EAAajD,IAEjBiB,EAAQlB,IAAcA,EAAYkC,EAAmBzF,IAErDqG,EAASK,EAAoBpH,KAAK,KAAMmF,EAAOgC,GAAY,GAC3DH,EAASI,EAAoBpH,KAAK,KAAMmF,EAAOgC,GAAY,QAG3DL,EAAIrF,WACW,mBAAR4F,KACwB,mBAAxBA,IAAIC,iBACoB,mBAAxBD,IAAIE,iBACK,mBAATC,MACS,mBAATjG,MAEP4D,EAlEF,SAA4BzE,GAC3B,IAAI+G,EAAOvE,SAASkD,cAAc,QAUlC,YAR0BxF,IAAvBF,EAAQ2F,MAAMC,OAChB5F,EAAQ2F,MAAMC,KAAO,YAEtB5F,EAAQ2F,MAAMqB,IAAM,aAEpBjB,EAASgB,EAAM/G,EAAQ2F,OACvBnB,EAAmBxE,EAAS+G,GAErBA,EAuDEE,CAAkBjH,GAC1BqG,EAASa,EAAW5H,KAAK,KAAMmF,EAAOzE,GACtCsG,EAAS,WACRnB,EAAmBV,GAEhBA,EAAM0C,MAAMR,IAAIE,gBAAgBpC,EAAM0C,SAG1C1C,EAAQgB,EAAmBzF,GAC3BqG,EAASe,EAAW9H,KAAK,KAAMmF,GAC/B6B,EAAS,WACRnB,EAAmBV,KAMrB,OAFA4B,EAAOD,GAEA,SAAsBiB,GAC5B,GAAIA,EAAQ,CACX,GACCA,EAAO/C,MAAQ8B,EAAI9B,KACnB+C,EAAO9C,QAAU6B,EAAI7B,OACrB8C,EAAOtG,YAAcqF,EAAIrF,UAEzB,OAGDsF,EAAOD,EAAMiB,QAEbf,KA1PHzI,EAAOD,QAAU,SAAS2C,EAAMP,GAC/B,GAAqB,oBAAVsH,OAAyBA,OACX,iBAAb9E,SAAuB,MAAM,IAAImC,MAAM,iEAGnD3E,EAAUA,GAAW,IAEb2F,MAAiC,iBAAlB3F,EAAQ2F,MAAqB3F,EAAQ2F,MAAQ,GAI/D3F,EAAQuD,WAA0C,kBAAtBvD,EAAQuD,YAAyBvD,EAAQuD,UAAYjB,KAG1EtC,EAAQ0E,aAAY1E,EAAQ0E,WAAa,QAGhD1E,EAAQ6E,WAAU7E,EAAQ6E,SAAW,UAE1C,IAAIjB,EAASM,EAAa3D,EAAMP,GAIhC,OAFA2D,EAAeC,EAAQ5D,GAEhB,SAAiBuH,GAGvB,IAFA,IAAIC,EAAY,GAEP1J,EAAI,EAAGA,EAAI8F,EAAO5B,OAAQlE,IAAK,CACvC,IAAI6C,EAAOiD,EAAO9F,IACd+F,EAAWxB,EAAY1B,EAAKsB,KAEvB6B,OACT0D,EAAUnH,KAAKwD,GAGb0D,GAEF5D,EADgBO,EAAaqD,EAASvH,GACZA,GAG3B,IAASlC,EAAI,EAAGA,EAAI0J,EAAUxF,OAAQlE,IAAK,CAC1C,IAAI+F,EAEJ,GAAqB,KAFjBA,EAAW2D,EAAU1J,IAEbgG,KAAY,CACvB,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAASG,MAAMhC,OAAQ+B,IAAKF,EAASG,MAAMD,YAExD1B,EAAYwB,EAAS5B,QAkNhC,IACKwF,EADDC,GACCD,EAAY,GAET,SAAUE,EAAOC,GAGvB,OAFAH,EAAUE,GAASC,EAEZH,EAAUI,OAAOC,SAASnG,KAAK,QAIxC,SAAS+E,EAAqBjC,EAAOkD,EAAOrB,EAAQF,GACnD,IAAI9B,EAAMgC,EAAS,GAAKF,EAAI9B,IAE5B,GAAIG,EAAMsD,WACTtD,EAAMsD,WAAWC,QAAUN,EAAYC,EAAOrD,OACxC,CACN,IAAI2D,EAAUzF,SAAS0F,eAAe5D,GAClC6D,EAAa1D,EAAM0D,WAEnBA,EAAWR,IAAQlD,EAAMY,YAAY8C,EAAWR,IAEhDQ,EAAWnG,OACdyC,EAAMM,aAAakD,EAASE,EAAWR,IAEvClD,EAAMO,YAAYiD,IAKrB,SAASb,EAAY3C,EAAO2B,GAC3B,IAAI9B,EAAM8B,EAAI9B,IACVC,EAAQ6B,EAAI7B,MAMhB,GAJGA,GACFE,EAAM0B,aAAa,QAAS5B,GAG1BE,EAAMsD,WACRtD,EAAMsD,WAAWC,QAAU1D,MACrB,CACN,KAAMG,EAAMQ,YACXR,EAAMY,YAAYZ,EAAMQ,YAGzBR,EAAMO,YAAYxC,SAAS0F,eAAe5D,KAI5C,SAAS4C,EAAYH,EAAM/G,EAASoG,GACnC,IAAI9B,EAAM8B,EAAI9B,IACVvD,EAAYqF,EAAIrF,UAQhBqH,OAAgDlI,IAAlCF,EAAQqI,uBAAuCtH,GAE7Df,EAAQqI,uBAAyBD,KACpC9D,EAAMZ,EAAQY,IAGXvD,IAEHuD,GAAO,uDAAyDzD,KAAKI,SAASC,mBAAmBC,KAAKC,UAAUL,MAAgB,OAGjI,IAAIuH,EAAO,IAAIxB,KAAK,CAACxC,GAAM,CAAEsB,KAAM,aAE/B2C,EAASxB,EAAKI,KAElBJ,EAAKI,KAAOR,IAAIC,gBAAgB0B,GAE7BC,GAAQ5B,IAAIE,gBAAgB0B,K,cChYhC1K,EAAOD,QAAU,SAAU0G,GAEzB,IAAIkE,EAA6B,oBAAXjG,QAA0BA,OAAOiG,SAEvD,IAAKA,EACH,MAAM,IAAI7D,MAAM,oCAInB,IAAKL,GAAsB,iBAARA,EACjB,OAAOA,EAGR,IAAImE,EAAUD,EAASE,SAAW,KAAOF,EAASG,KAC9CC,EAAaH,EAAUD,EAASK,SAASC,QAAQ,YAAa,KA2DnE,OA/BexE,EAAIwE,QAAQ,uDAAuD,SAASC,EAAWC,GAErG,IAWIC,EAXAC,EAAkBF,EACpBG,OACAL,QAAQ,YAAY,SAASvK,EAAG6K,GAAK,OAAOA,KAC5CN,QAAQ,YAAY,SAASvK,EAAG6K,GAAK,OAAOA,KAG9C,MAAI,oDAAoDC,KAAKH,GACpDH,GAQRE,EAFqC,IAAlCC,EAAgB3D,QAAQ,MAElB2D,EACkC,IAAjCA,EAAgB3D,QAAQ,KAEzBkD,EAAUS,EAGVN,EAAaM,EAAgBJ,QAAQ,QAAS,IAIjD,OAAS3H,KAAKC,UAAU6H,GAAU,U,miBCnF5B,SAASK,EAAaC,EAAQC,EAAQC,GACnD,IAAIC,EAAM,IAAIC,MACdD,EAAIF,OAAS,WAEXA,GAAUA,EAAO/I,KAAKmJ,MAAOnJ,KAAKoJ,QAClCL,EAAS,KACTC,GAAYA,IACZA,EAAW,KACXC,EAAIF,OAAS,MAEfE,EAAII,QAAU,WACZL,GAAYA,GAAS,GACrBA,EAAW,KACXC,EAAII,QAAU,MAEhBJ,EAAIK,IAAMR,E,oBCaG,SAASS,EAAIhE,EAAIvG,EAAUV,EAAOkL,EAAMC,EAAMC,EAAOC,GAClE,IAAIC,EAAUrE,EAAGvG,GACb6K,EAAKvL,EAAQsL,EACbE,EAAY,IAAIC,KAChBC,EAAOhK,KACPiK,EAAcR,GAAQ,SAAUS,GAAK,OAAOA,GAChDlK,KAAKmK,OAAS,MACD,SAATC,IACF,IAAIC,EAAK,IAAIN,KAASD,EACtB,GAAIO,GAAMb,EAMR,OALAjE,EAAGvG,GAAYV,EACfqL,GAAYA,EAASrL,GACrBoL,GAASA,EAAMpL,GACfwD,OAAOwI,qBAAqBN,EAAKG,aACjCH,EAAKI,OAAS,MAGhB7E,EAAGvG,GAAY6K,EAAKI,EAAYI,EAAKb,GAAQI,EAC7CI,EAAKG,OAASrI,OAAOyI,sBAAsBH,GAC3CT,GAAYA,EAASpE,EAAGvG,IAE1BoL,GACAb,EAAGiB,KAAK5K,KAAKI,OAlDd,WAGC,IAFA,IAAIyK,EAAW,EACXC,EAAU,CAAC,SAAU,OAChBC,EAAI,EAAGA,EAAID,EAAQnJ,SAAWO,OAAOyI,wBAAyBI,EACrE7I,OAAOyI,sBAAwBzI,OAAO4I,EAAQC,GAAK,yBACnD7I,OAAOwI,qBACCxI,OAAO4I,EAAQC,GAAK,yBAA2B7I,OAAO4I,EAAQC,GAAK,+BAGxE7I,OAAOyI,wBACVzI,OAAOyI,sBAAwB,SAAUK,GACvC,IAAIC,GAAW,IAAId,MAAOe,UACtBC,EAAaC,KAAKC,IAAI,EAAG,IAAMJ,EAAWJ,IAC1CjJ,EAAKM,OAAOoJ,YAAW,WACzBN,EAASC,EAAWE,KACnBA,GAEH,OADAN,EAAWI,EAAWE,EACfvJ,IAINM,OAAOwI,uBACVxI,OAAOwI,qBAAuB,SAAU9I,GACtC2J,aAAa3J,KAvBlB,GAqDD+H,EAAGiB,KAAO,GAEVjB,EAAG6B,QAAU,WACX,IAAK,IAAI/N,EAAI,EAAGgO,EAAM9B,EAAGiB,KAAKjJ,OAAQlE,EAAIgO,EAAKhO,IAC7CyE,OAAOwI,qBAAqBf,EAAGiB,KAAKnN,GAAG8M,QAEzCZ,EAAGiB,KAAKjJ,OAAS,GAGnBgI,EAAG+B,KAAO,SAAUC,GAClBzJ,OAAOwI,qBAAqBiB,EAAGpB,SC3DjC,IAAIqB,EAAW,SAAUC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,GAClGxM,KAAKyM,SAAW3K,OAAO4K,aAAe,IAAIA,aAAa,IAAM,GAC7D,IAAIC,EAAK3M,KAAKyM,SACdE,EAAG,QAAclN,IAARgM,EAAqBA,EAAM,EAAGkB,EAAG,GAAKjB,GAAO,EAAGiB,EAAG,GAAKhB,GAAO,EAAGgB,EAAG,IAAMf,GAAO,EAC3Fe,EAAG,GAAKd,GAAO,EAAGc,EAAG,QAAclN,IAARqM,EAAqBA,EAAM,EAAGa,EAAG,GAAKZ,GAAO,EAAGY,EAAG,IAAMX,GAAO,EAC3FW,EAAG,GAAKV,GAAO,EAAGU,EAAG,GAAKT,GAAO,EAAGS,EAAG,SAAelN,IAAR0M,EAAqBA,EAAM,EAAGQ,EAAG,IAAMP,GAAO,EAC5FO,EAAG,GAAKN,GAAO,EAAGM,EAAG,GAAKL,GAAO,EAAGK,EAAG,IAAMJ,GAAO,EAAGI,EAAG,SAAelN,IAAR+M,EAAqBA,EAAM,GAkH9F,SAASI,EAASvK,EAAQwK,EAAOjC,GAC/B,IAAK,IAAIvN,EAAI,EAAGgO,EAAMwB,EAAMtL,OAAQlE,EAAIgO,EAAKhO,IAAK,CAEhDyP,EAAMzK,EADKwK,EAAMxP,GACGuN,IAIxB,SAASkC,EAAOzK,EAAQ0K,EAAMnC,GAC5B7M,OAAOC,eAAeqE,EAAQ0K,EAAM,CAClC7O,IAAK,WACH,OAAO8B,KAAK,KAAO+M,IAErBC,IAAK,SAAU1O,GACTA,IAAU0B,KAAK,KAAO+M,KACxB/M,KAAK,KAAO+M,GAAQzO,EACpBsM,QAMO,SAASpL,EAAWyN,GACjCL,EACEK,EACA,CAAC,aAAc,aAAc,aAAc,SAAU,SAAU,SAAU,UAAW,UAAW,UAAW,QAAS,QAAS,UAAW,UAAW,YAClJ,WACE,IAAIC,EAAMD,EAAQE,SAASC,WAAWC,gBAAgBJ,EAAQK,WAAYL,EAAQM,WAAYN,EAAQO,WAAYP,EAAQQ,OAAQR,EAAQS,OAAQT,EAAQU,OAAQV,EAAQW,QAASX,EAAQY,QAASZ,EAAQa,QAASb,EAAQc,MAAOd,EAAQe,MAAOf,EAAQgB,QAAShB,EAAQiB,QAASjB,EAAQkB,SAC7RlB,EAAQjJ,MAAMxE,UAAYyN,EAAQjJ,MAAMoK,YAAcnB,EAAQjJ,MAAMqK,WAAapB,EAAQjJ,MAAMsK,aAAerB,EAAQjJ,MAAMuK,gBAAkB,eAAiBtB,EAAQuB,YAAc,gBAAkBC,MAAMxP,UAAUyP,MAAMlR,KAAK0P,EAAIT,UAAUvL,KAAK,KAAO,OAGhQ0L,EACEK,EACA,CAAC,gBACD,WACEA,EAAQjJ,MAAMxE,UAAYyN,EAAQjJ,MAAMoK,YAAcnB,EAAQjJ,MAAMqK,WAAapB,EAAQjJ,MAAMsK,aAAerB,EAAQjJ,MAAMuK,gBAAkB,eAAiBtB,EAAQuB,YAAc,gBAAkBC,MAAMxP,UAAUyP,MAAMlR,KAAKyP,EAAQE,SAASV,UAAUvL,KAAK,KAAO,OAG7Q+L,EAAQE,SAAW,IAAI3B,EACvByB,EAAQuB,YAAc,IACtBvB,EAAQQ,OAASR,EAAQS,OAAST,EAAQU,OAAS,EAEnDV,EAAQK,WAAaL,EAAQM,WAAaN,EAAQO,WAAaP,EAAQW,QAAUX,EAAQY,QAAUZ,EAAQa,QAAUb,EAAQc,MAAQd,EAAQe,MAAQf,EAAQgB,QAAUhB,EAAQiB,QAAUjB,EAAQkB,QAAU,ECrK9L,SAAS1E,EAAMkB,GAC5B,OAAOK,KAAK2D,KAAK,EAAI3D,KAAK4D,IAAIjE,EAAI,EAAG,ICIvC,SAASkE,KFQTrD,EAASsD,WAAa9D,KAAK+D,GAAK,IAEhCvD,EAASvM,UAAY,CACnB+N,IAAK,SAAUvB,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,GACxF,IAAIG,EAAK3M,KAAKyM,SAKd,OAJAE,EAAG,GAAKlB,EAAKkB,EAAG,GAAKjB,EAAKiB,EAAG,GAAKhB,EAAKgB,EAAG,IAAMf,EAChDe,EAAG,GAAKd,EAAKc,EAAG,GAAKb,EAAKa,EAAG,GAAKZ,EAAKY,EAAG,IAAMX,EAChDW,EAAG,GAAKV,EAAKU,EAAG,GAAKT,EAAKS,EAAG,IAAMR,EAAKQ,EAAG,IAAMP,EACjDO,EAAG,GAAKN,EAAKM,EAAG,GAAKL,EAAKK,EAAG,IAAMJ,EAAKI,EAAG,IAAMH,EAC1CxM,MAEToN,SAAU,WAOR,OANApN,KAAKgN,IACH,EAAG,EAAG,EAAG,EACT,EAAG,EAAG,EAAG,EACT,EAAG,EAAG,EAAG,EACT,EAAG,EAAG,EAAG,GAEJhN,MAETgP,iBAAkB,SAAU9E,EAAG+E,GAC7B,IAAIC,EAAKhF,EAAEuC,SACPE,EAAK3M,KAAKyM,SACV0C,EAAMD,EAAG,GAAQE,EAAMF,EAAG,GAAQG,EAAMH,EAAG,GAAQI,EAAMJ,EAAG,IAC5DK,EAAML,EAAG,GAAQM,EAAMN,EAAG,GAAQO,EAAMP,EAAG,GAAQQ,EAAMR,EAAG,IAC5DS,EAAMT,EAAG,GAAQU,EAAMV,EAAG,GAAQW,EAAMX,EAAG,IAASY,EAAMZ,EAAG,IAC7Da,EAAMb,EAAG,GAAQc,EAAMd,EAAG,GAAQe,EAAMf,EAAG,IAASgB,EAAMhB,EAAG,IAE7DiB,EAAMlB,EAAG,GAAQmB,EAAMnB,EAAG,GAAQoB,EAAMpB,EAAG,GAAQqB,EAAMrB,EAAG,GAC5DsB,EAAMtB,EAAG,GAAQuB,EAAMvB,EAAG,GAAQwB,EAAMxB,EAAG,GAAQyB,EAAMzB,EAAG,GAC5D0B,EAAM1B,EAAG,GAAQ2B,EAAM3B,EAAG,GAAQ4B,EAAM5B,EAAG,IAAS6B,EAAM7B,EAAG,IAC7D8B,EAAM9B,EAAG,IAAS+B,EAAM/B,EAAG,IAASgC,EAAMhC,EAAG,IAASiC,EAAMjC,EAAG,IAsBnE,OApBAtC,EAAG,GAAKwC,EAAMgB,EAAMf,EAAMmB,EAAMlB,EAAMsB,EAAMrB,EAAMyB,EAClDpE,EAAG,GAAKwC,EAAMiB,EAAMhB,EAAMoB,EAAMnB,EAAMuB,EAAMtB,EAAM0B,EAClDrE,EAAG,GAAKwC,EAAMkB,EAAMjB,EAAMqB,EAAMpB,EAAMwB,EAAMvB,EAAM2B,EAClDtE,EAAG,IAAMwC,EAAMmB,EAAMlB,EAAMsB,EAAMrB,EAAMyB,EAAMxB,EAAM4B,EAEnDvE,EAAG,GAAK4C,EAAMY,EAAMX,EAAMe,EAAMd,EAAMkB,EAAMjB,EAAMqB,EAClDpE,EAAG,GAAK4C,EAAMa,EAAMZ,EAAMgB,EAAMf,EAAMmB,EAAMlB,EAAMsB,EAClDrE,EAAG,GAAK4C,EAAMc,EAAMb,EAAMiB,EAAMhB,EAAMoB,EAAMnB,EAAMuB,EAClDtE,EAAG,IAAM4C,EAAMe,EAAMd,EAAMkB,EAAMjB,EAAMqB,EAAMpB,EAAMwB,EAEnDvE,EAAG,GAAKgD,EAAMQ,EAAMP,EAAMW,EAAMV,EAAMc,EAAMb,EAAMiB,EAClDpE,EAAG,GAAKgD,EAAMS,EAAMR,EAAMY,EAAMX,EAAMe,EAAMd,EAAMkB,EAClDrE,EAAG,IAAMgD,EAAMU,EAAMT,EAAMa,EAAMZ,EAAMgB,EAAMf,EAAMmB,EACnDtE,EAAG,IAAMgD,EAAMW,EAAMV,EAAMc,EAAMb,EAAMiB,EAAMhB,EAAMoB,EAEnDvE,EAAG,GAAKoD,EAAMI,EAAMH,EAAMO,EAAMN,EAAMU,EAAMT,EAAMa,EAClDpE,EAAG,GAAKoD,EAAMK,EAAMJ,EAAMQ,EAAMP,EAAMW,EAAMV,EAAMc,EAClDrE,EAAG,IAAMoD,EAAMM,EAAML,EAAMS,EAAMR,EAAMY,EAAMX,EAAMe,EACnDtE,EAAG,IAAMoD,EAAMO,EAAMN,EAAMU,EAAMT,EAAMa,EAAMZ,EAAMgB,EAE5ClR,MAGTmR,SAAU,SAAU7S,EAAOjB,GAGzB,OAFAA,EAAI2N,KAAK4D,IAAI,GAAIvR,GAAK,IAEf2N,KAAKoG,MAAM9S,EAAQjB,GAAKA,GAEjCgQ,gBAAiB,SAAU1C,EAAG0G,EAAGC,EAAG7D,EAAQC,EAAQC,EAAQC,EAASC,EAASC,EAASC,EAAOC,EAAOC,EAASC,EAASC,GACrH,IAAIoD,EAAK3D,EAAUpC,EAASsD,WACxB0C,EAAOxR,KAAKmR,SAASnG,KAAKyG,IAAIF,IAC9BG,EAAO1R,KAAKmR,SAASnG,KAAK2G,IAAIJ,IAC9BK,EAAK/D,EAAUrC,EAASsD,WACxB+C,EAAO7R,KAAKmR,SAASnG,KAAKyG,IAAIG,IAC9BE,EAAO9R,KAAKmR,SAASnG,KAAK2G,IAAIC,IAC9BG,EAAKjE,EAAUtC,EAASsD,WACxBkD,EAAOhS,KAAKmR,SAASnG,KAAKyG,KAAU,EAANM,IAC9BE,EAAOjS,KAAKmR,SAASnG,KAAK2G,KAAU,EAANI,IAqClC,OAnCA/R,KAAKgP,iBAAiBhP,KAAM,CAC1B,EAAG,EAAG,EAAG2K,EACT,EAAG6G,EAAME,EAAML,EACf,GAAIK,EAAMF,EAAMF,EAChB,EAAG,EAAG,EAAG,IAGXtR,KAAKgP,iBAAiBhP,KAAM,CAC1B6R,EAAM,EAAGC,EAAM,EACf,EAAG,EAAG,EAAG,GACRA,EAAM,EAAGD,EAAM,EAChB,EAAG,EAAG,EAAG,IAGX7R,KAAKgP,iBAAiBhP,KAAM,CAC1BgS,EAAOvE,EAAQwE,EAAOvE,EAAQ,EAAG,GAChCuE,EAAOxE,EAAQuE,EAAOtE,EAAQ,EAAG,EAClC,EAAG,EAAG,EAAIC,EAAQ,EAClB,EAAG,EAAG,EAAG,KAGPI,GAASC,IACXhO,KAAKgP,iBAAiBhP,KAAM,CAC1BA,KAAKmR,SAASnG,KAAKyG,IAAI1D,EAAQvC,EAASsD,aAAc9O,KAAKmR,SAASnG,KAAK2G,IAAI5D,EAAQvC,EAASsD,aAAc,EAAG,GAC9G,EAAI9O,KAAKmR,SAASnG,KAAK2G,IAAI3D,EAAQxC,EAASsD,aAAc9O,KAAKmR,SAASnG,KAAKyG,IAAIzD,EAAQxC,EAASsD,aAAc,EAAG,EACpH,EAAG,EAAG,EAAG,EACT,EAAG,EAAG,EAAG,KAITb,GAAWC,GAAWC,KACxBnO,KAAKyM,SAAS,KAAOwB,EAAUjO,KAAKyM,SAAS,GAAKyB,EAAUlO,KAAKyM,SAAS,GAAK0B,EAAUnO,KAAKyM,SAAS,GACvGzM,KAAKyM,SAAS,KAAOwB,EAAUjO,KAAKyM,SAAS,GAAKyB,EAAUlO,KAAKyM,SAAS,GAAK0B,EAAUnO,KAAKyM,SAAS,GACvGzM,KAAKyM,SAAS,KAAOwB,EAAUjO,KAAKyM,SAAS,GAAKyB,EAAUlO,KAAKyM,SAAS,GAAK0B,EAAUnO,KAAKyM,SAAS,KAElGzM,OE3CJ,SAASkS,EAAiBC,EAAKC,EAAaC,GAC5CF,IACDA,EAAI1E,OAAS2E,IACf,IAAI7I,EAAG4I,EAAK,SAAUC,EAAa,IAAK3I,GACxC,IAAIF,EAAG4I,EAAK,SAAUC,EAAa,IAAK3I,GACxC,IAAIF,EAAG4I,EAAK,aAAc,EAAG,IAAK1I,GAClC,IAAIF,EAAG4I,EAAK,aAAc,EAAG,IAAK1I,IAEhC0I,EAAI1E,OAAS4E,IACf,IAAI9I,EAAG4I,EAAK,SAAUE,EAAa,IAAK5I,GACxC,IAAIF,EAAG4I,EAAK,SAAUE,EAAa,IAAK5I,GACxC,IAAIF,EAAG4I,EAAK,aAAc,EAAG,IAAK1I,GAClC,IAAIF,EAAG4I,EAAK,aAAc,EAAG,IAAK1I,KAuB/B,SAAS6I,EAAkBH,EAAKI,EAAKH,EAAaC,GACvD,GAAKF,EACL,GAAIA,EAAI1E,QAAU4E,EAChB,IAAI9I,EAAG4I,EAAK,SAAUC,EAAa,IAAK3I,GACxC,IAAIF,EAAG4I,EAAK,SAAUC,EAAa,IAAK3I,GACxC,IAAIF,EAAG4I,EAAK,aAAc,EAAG,IAAK1I,GAClC,IAAIF,EAAG4I,EAAK,aAAc,EAAG,IAAK1I,OAC7B,CACL,MAAyB8I,EAAIC,eAAe,GAApCC,EAAR,EAAQA,MAAOC,EAAf,EAAeA,MACTC,EAAMR,EAAIS,wBACVC,EAWV,SAAwBV,GACtB,IAAKA,EAAK,OAAO,EACjB,IAAQ5E,EAAe4E,EAAf5E,WACFoF,EAAMR,EAAIS,wBACVC,GAAQ/Q,OAAOgR,YAAcH,EAAIvJ,QAAU,EAAImE,EACrD,OAAIoF,EAAIvJ,OAAStH,OAAOgR,YAClBvF,EAAa,EACRsF,GAAQF,EAAIvJ,OAAStH,OAAOgR,aAAe,EACzCvF,EAAa,EACfsF,GAAQF,EAAIvJ,OAAStH,OAAOgR,aAAe,EAE3CD,EAGFA,EAzBME,CAAcZ,GACrBa,EA4BV,SAAyBb,GACvB,IAAKA,EAAK,OAAO,EACjB,IAAQ7E,EAAe6E,EAAf7E,WACFqF,EAAMR,EAAIS,wBACVI,GAASlR,OAAOmR,WAAaN,EAAIxJ,OAAS,EAAImE,EACpD,OAAIqF,EAAIxJ,MAAQrH,OAAOmR,WACjB3F,EAAa,EACR0F,GAASL,EAAIxJ,MAAQrH,OAAOmR,YAAc,EACxC3F,EAAa,EACf0F,GAASL,EAAIxJ,MAAQrH,OAAOmR,YAAc,EAE1CD,EAGFA,EA1COE,CAAef,GACvBd,EAAIsB,EAAIvJ,OAA0B,GAAhBsJ,EAAQG,IAAaF,EAAIvJ,OAAS,GAAKsJ,EAAQG,IACjElI,EAAIgI,EAAIxJ,MAA0B,GAAjBsJ,EAAQO,IAAcL,EAAIxJ,MAAQ,GAAKsJ,EAAQO,IACtE,IAAIzJ,EAAG4I,EAAK,SAAUE,EAAa,IAAK5I,GACxC,IAAIF,EAAG4I,EAAK,SAAUE,EAAa,IAAK5I,GACxC,IAAIF,EAAG4I,EAAK,aAAcxH,EAAG,IAAKlB,GAClC,IAAIF,EAAG4I,EAAK,aAAcd,EAAG,IAAK5H,IAwCvB0J,MAlKQ,SAAC5N,EAAIhG,GAC1B,MAUIA,EATF6T,yBADF,MACsBvE,EADtB,IAUItP,EARF8T,wBAFF,MAEqBxE,EAFrB,IAUItP,EAPF+T,yBAHF,MAGsBzE,EAHtB,IAUItP,EANFgU,qBAJF,MAIkB1E,EAJlB,IAUItP,EALFiU,yBALF,MAKsB3E,EALtB,IAUItP,EAJFkU,6BANF,MAM0B5E,EAN1B,IAUItP,EAHFmU,+BAPF,MAO4B7E,EAP5B,IAUItP,EAFFoU,sBARF,MAQmB9E,EARnB,IAUItP,EADFqU,qBATF,MASkB/E,EATlB,EAWAgF,EAAUtO,GACV,IAAIuO,EAAY,EAEZC,GAAmB,EACjBC,EAAc,IAAIC,IAAY1O,EAAI,CACtC2O,gBAAiB,WACf3K,EAAG6B,UACH0I,EAAYJ,KAEdS,OAAQ,SAAU5B,GAChBwB,GAAmB,EACnBJ,EAAepB,GACfA,EAAI6B,iBACJ7B,EAAI8B,mBAENC,MAAO,SAAU/B,GACfwB,GAAmB,EACnBH,EAAcrB,EAAKuB,GACnBvB,EAAI6B,iBACJ7B,EAAI8B,mBAENE,cAAe,WACbhL,EAAG6B,UACHqI,KAEFe,UAAW,SAAUjC,GACnBwB,GAAmB,EACnBX,EAAkBb,GAClBA,EAAI6B,iBACJ7B,EAAI8B,mBAENI,UAAW,SAAUlC,GACnBwB,GAAmB,EACnBxK,EAAG6B,UACHoI,EAAkBjB,IAEpBmC,SAAU,SAAUnC,GAClBA,EAAI8B,kBACJhB,EAAiBd,GAEjBrH,YAAW,WACT6I,GAAmB,IAClB,MAELY,MAAO,SAAUpC,GACfwB,GAAmB,EACnBR,EAAchB,IAEhBqC,UAAW,WACJb,GACHT,OAKN,OADAU,EAAYZ,kBAAoBA,EACzBY,GCvDM,EAnBE,WAmBF,EAhBU,WACvB,OAA2B,MAAvBlS,OAAO+S,aAA8C,IAAvB/S,OAAO+S,YAJ1B,WACC,aAkBH,EARsB,SAACC,GACpChT,OAAOiT,iBAAiB,wBAAyBjT,OAAS,oBAAsB,SAAUgT,IAO7E,EAJyB,SAACA,GACvChT,OAAOkT,oBAAoB,wBAAyBlT,OAAS,oBAAsB,SAAUgT,ICV/F,IACMG,EACAC,EACEC,EAiBOC,GAjBPD,EAAepT,SAASsT,MAAQtT,SAASsT,KAAKrR,MAAMsR,UAAwB,SAC3E,SAAyCC,GAC1CA,GACFN,EAXGlT,SAASsT,KAAKJ,WAAalT,SAASyT,gBAAgBP,UAYvDC,EATGnT,SAASsT,KAAKH,YAAcnT,SAASyT,gBAAgBN,WAUxDnT,SAASsT,KAAKrR,MAAMsR,SAAW,QAC/BvT,SAASsT,KAAKrR,MAAMyR,IAApB,WAA8BR,EAA9B,MACAlT,SAASsT,KAAKrR,MAAM0R,KAApB,WAA+BR,EAA/B,QAEAnT,SAASsT,KAAKrR,MAAMsR,SAAWH,EAC/BpT,SAASsT,KAAKrR,MAAMyR,IAAM,MAC1B1T,SAASsT,KAAKrR,MAAM0R,KAAO,MAC3B5T,OAAO6T,SAAST,EAAYD,M,sVCTlC,IAGIW,EAAe,KACfC,EAAS,KACTC,EAAa,KACbjB,EAAckB,EACdC,EAAa,KACbhC,EAAc,KACdiC,EAAuB,KAE3B,SAASpH,KAOF,IAAMqH,EAAa,SAACC,EAAQ5W,GACjC,GAAK4W,GAAWA,EAAO7M,IAAvB,CACA8M,GAAW,GACXC,GAAc,GACd,IAAIC,EAAc,GACd/W,IAAS+W,E,+VAAc,CAAH,GAAQ/W,IAChC,MAUI+W,EATFC,EADF,EACEA,SADF,IAEEC,4BAFF,MAEyB3H,EAFzB,MAGE4H,gBAHF,MAGa,GAHb,MAIEC,qBAJF,MAIkB,IAJlB,MAKEtE,mBALF,MAKgB,EALhB,MAMEC,mBANF,MAMgB,EANhB,MAOEsE,cAPF,MAOW,KAPX,MAQEC,gBARF,MAQa,KARb,MASEC,cAEFb,EAAa,CAAEG,SAAQ5W,QAAS,CAAEgX,WAAUC,uBAAsBC,WAAUC,gBAAetE,cAAaC,cAAasE,SAAQC,WAAUC,mBAXvI,WAYAhC,EAAckB,IACdA,EAAqCe,GACrCf,EAAkCe,GAClCC,IACAC,IACAC,MAOWb,EAAa,WAAuB,IAAtBc,IAAsB,yDAC3ClB,IACEkB,GACFlB,EAAWzW,QAAQiX,uBAErBH,GAAc,GACdc,MAIEF,EAAiB,WACrB,IAAQR,EAAaT,EAAWzW,QAAxBkX,SACR,GAAIA,EAASlV,OAAS,EAAG,CACvB,IAAI6V,EAAUrV,SAASsV,yBACvBZ,EAAShR,SAAQ,SAAA6R,GACc,IAAzBA,EAAYC,SACdH,EAAQ7S,YAAY+S,GAEpBE,QAAQC,KAAK,qBAAsBH,MAGvC1B,EAAarR,YAAY6S,GACzBA,EAAU,OAIRJ,EAAqB,WACzB,MASIhB,EARFG,EADF,EACEA,OADF,IAEE5W,QACEgX,EAHJ,EAGIA,SACAG,EAJJ,EAIIA,cACAtE,EALJ,EAKIA,YACAC,EANJ,EAMIA,YACAwE,EAPJ,EAOIA,cAGAO,EAAUrV,SAASsV,0BACvBvB,EAAa/T,SAASkD,cAAc,QACzBS,aAAa,QAAS,8BACjC0R,EAAQ7S,YAAYuR,IAEpBD,EAAS9T,SAASkD,cAAc,QACzBS,aAAa,KA1FS,sCA4F7BmQ,EAAOnQ,aAAa,MAAOyQ,EAAO7M,KAClCuM,EAAOnQ,aAAa,MAAOyQ,EAAOuB,KAAO,IACzCN,EAAQ7S,YAAYsR,GAEpBA,EAAOd,iBAAiB,QAAS4C,GACjC,IAAMC,EAAc,SAACC,EAAGC,GACtB,IAAIC,EAAW,EAEbA,EADEF,EAAI/V,OAAOmR,WACFnR,OAAOmR,WAEP4E,EAEbhC,EAAO7R,MAAMmF,MAAQ4O,EAAW,KAChClC,EAAO7R,MAAMoF,OAAS,QAExBP,EAAYsN,EAAO7M,KAAK,SAACuO,EAAGC,GAC1BF,EAAYC,MACX,SAAAG,GACGA,GACFpC,EAAahR,YAAYiR,GACrBU,EACF1N,EAAY0N,GAAU,SAACsB,EAAGC,GACxBlC,EAAarR,YAAYsR,GACzBA,EAAOvM,IAAMiN,EACbqB,EAAYC,MACX,WACDjC,EAAahR,YAAYkR,MAG3BF,EAAahR,YAAYkR,IAG3BF,EAAahR,YAAYkR,MAG7B9B,EAAcb,EAAe0C,EAAQ,CACnCnC,wBAAyB,kBAAMmC,EAAOpI,QACtCkG,eAAgB,SAACpB,GAAUsD,EAAO/H,SAAWyE,EAAI0F,OACjDrE,cAAe,SAACrB,EAAKuB,GAAgB+B,EAAOpI,OAASoI,EAAOnI,OAASoG,EAAYvB,EAAI2F,MACrF9E,kBAAmB,SAAAb,GACjBsD,EAAOvI,YAAciF,EAAI4F,OAASzB,EAClCb,EAAOtI,YAAcgF,EAAI6F,OAAS1B,EAClCxE,EAAgB2D,EAAQzD,EAAaC,IAEvCiB,kBAAmB,WACduD,GAAeT,KAEpB5C,kBAAmB,SAAAjB,GACjBD,EAAiBuD,EAAQtD,EAAKH,EAAaC,IAE7CoB,sBAAuB,WACrBvB,EAAgB2D,EAAQzD,EAAaC,GH/DpC,SAA2BF,GAChC,GAAKA,EAAL,CACA,IAAIkG,EAAWlG,EAAIrE,QAAU,IACzBuK,EAAW,IAAGA,EAAW,IAAMA,GACnClG,EAAIrE,QAAUuK,EACVA,EAAW,GAAKA,EAAW,IAC7B,IAAI9O,EAAG4I,EAAK,UAAW,EAAG,IAAK1I,IG0D7B6O,CAAiBzC,MAGrBD,EAAarR,YAAY6S,GACzBA,EAAU,MAGNL,EAAwB,WAE5B,KADAnB,EAAe7T,SAASwW,eAzJE,oCA0JP,EACjB3C,EAAe7T,SAASkD,cAAc,QACzBS,aAAa,KA5JF,mCA6JxB,MAA6BsQ,EAAWzW,QAAhCoX,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,SACD,OAAXD,IACFf,EAAa5R,MAAM,WAAa2S,GAEjB,OAAbC,IACFhB,EAAa5R,MAAMwU,WAAa5B,GAElChB,EAAab,iBAAiB,QAAS0D,GACvC1W,SAASsT,KAAK9Q,YAAYqR,GAC1B/B,EAAU+B,GACVK,EAAuB,IAAIhC,IAAY2B,EAAc,CACnDpB,UAAW,SAAUjC,GACnByB,EAAYZ,kBAAkBb,GAC9BA,EAAI6B,iBACJ7B,EAAI8B,qBAGRuB,EAAa5R,MAAMxE,UAAY,SAI7BmY,EAAmB,SAAA9U,GACvBA,EAAEwR,kBACFxR,EAAEuR,kBAGEqE,EAA+B,SAAA5V,GACnCA,EAAEwR,kBACC2B,EAAWzW,QAAQsX,eAAeT,KAGjCe,EAAwB,WAC5BvB,GAAgBA,EAAaZ,oBAAoB,QAASyD,GAC1D7C,GAAgB7T,SAASsT,KAAKzQ,YAAYgR,GAC1CG,EAAqCe,GACrCjB,GAAUA,EAAOb,oBAAoB,QAAS2C,GAC9C/B,EAAe,KACfC,EAAS,KACTC,EAAa,KACbE,EAAa,KACbnB,EAAckB,EACV/B,IACFA,EAAY0E,UACZ1E,EAAYZ,kBAAoB,KAChCY,EAAc,MAEZiC,IACFA,EAAqByC,UACrBzC,EAAuB,OAIrBa,EAA0B,WACPf,MAEAlB,GAAemB,GAEpC9K,YAAW,WACTgL,EAAWF,EAAWG,OAAQH,EAAWzW,WACxC,M,mlCCvNP,IAKIqW,EAAe,KACf+C,EAAW,KACXC,EAAW,EACX/D,EAAckB,EACdC,EAAa,KACb6C,GAAoB,KAExB,SAAShK,MAQF,IAAMiK,GAAoB,WAAkD,IAAjDC,EAAiD,uDAAvC,GAAIxZ,EAAmC,uCAA1ByZ,EAA0B,wDACjF,GAAKvK,MAAMwK,QAAQF,MAAYA,EAAQxX,QAAU,GAAjD,CACA,IAAM2X,EAAiBN,EACvBO,IAAkB,GAClB9C,GAAc,GACd+C,GAAWL,EAASxZ,EAASyZ,EAAeE,GAC5CnC,KACAsC,KACAC,GAAkBtD,EAAWzW,QAAQga,kBACrCC,KACAvC,KACAwC,OAOWN,GAAoB,WAAuB,IAAtBjC,IAAsB,yDAClDlB,IACEkB,GACFlB,EAAWzW,QAAQiX,uBAErBH,GAAc,GACdc,OAQSuC,GAAiB,SAAAC,GAC5B,KAAmB,OAAf3D,GACC2D,EAAY,GACZA,EAAY3D,EAAW+C,QAAQxX,OAAS,GAF7C,CAKA,MAAwCyU,EAAhC+C,EAAR,EAAQA,QAAoBa,EAA5B,EAAiBra,QAAWqa,MACtBC,EAAYd,EAAQxX,OAAS,EAC7BuY,EAAY,SAAAC,GAChB,IAAMC,EAAWrB,EAASjR,WAAWqS,GACjCC,IAAaA,EAASC,aAAa,UACrCtB,EAASuB,aAAalD,GAAmB+B,EAAQgB,GAAOA,GAAOC,IAGnE,GAAkB,IAAdL,EAEF,IADA,IAAII,EAAOJ,EACJI,EAAOH,GACZE,EAAUC,GACVA,SAEG,GAAIJ,IAAcE,EAGvB,IAFA,IAAIE,EAAOJ,EACLQ,EAAaR,EAAYC,EACxBG,EAAOI,GAAcJ,GAAQ,GAClCD,EAAUC,GACVA,QAEG,CAIL,IAHA,IAAMK,EAAYpP,KAAKqP,MAAMT,EAAQ,GACjCU,EAAYX,EACVY,EAAsBD,EAAYF,EACjCE,GAAaC,GAAuBD,GAAa,GACtDR,EAAUQ,GACVA,IAIF,IAFA,IAAIE,EAAab,EACXc,EAAuBD,EAAaJ,EACnCI,GAAcC,GAAwBD,GAAcX,GACzDC,EAAUU,GACVA,IAGJ,IAAME,EAAaC,KACnB,GAAID,EAAY,CACd,IAAQjN,EAA2CiN,EAA3CjN,OAAQC,EAAmCgN,EAAnChN,OAAQJ,EAA2BoN,EAA3BpN,WAAYC,EAAemN,EAAfnN,WAC5B6E,EAAgB4D,EAAWzW,QAA3B6S,YACJ3E,IAAW2E,GAAe1E,IAAW0E,IACvC,IAAI7I,EAAGmR,EAAY,SAAUtI,EAAa,IAAK3I,GAC/C,IAAIF,EAAGmR,EAAY,SAAUtI,EAAa,IAAK3I,IAE9B,IAAf6D,GACF,IAAI/D,EAAGmR,EAAY,aAAc,EAAG,IAAKjR,GAExB,IAAf8D,GACF,IAAIhE,EAAGmR,EAAY,aAAc,EAAG,IAAKjR,GAG7C6P,GAAkBK,KAGdP,GAAa,SAACL,EAASxZ,EAASqb,EAAgB1B,GACpD,IAAI5C,EAAc,GACd/W,IAAS+W,E,+VAAc,IAAK/W,IAChC,MAeI+W,EAfJ,IACEiD,wBADF,MACqB,EADrB,EAEEhD,EAFF,EAEEA,SAFF,IAGEsE,qBAHF,MAGkBhM,GAHlB,MAIE2H,4BAJF,MAIyB3H,GAJzB,MAKE4H,gBALF,MAKa,GALb,MAMEqE,qBANF,MAMkB,GANlB,MAOEC,yBAPF,MAOsB,GAPtB,MAQErE,qBARF,MAQkB,IARlB,MASEtE,mBATF,MASgB,EAThB,MAUEC,mBAVF,MAUgB,EAVhB,MAWEuH,aAXF,MAWU,EAXV,MAYEjD,cAZF,MAYW,KAZX,MAaEC,gBAbF,MAaa,KAbb,MAcEC,qBAdF,SAgBA,IAAK,WAAWjO,KAAKgR,IAAUA,EAAQ,GAAKA,EAAQ,GAAM,EACxD,MAAM1V,MAAM,iDAEd8R,EAAa,CACX+C,QAAS,EAAIA,GACbxZ,QAAS,CACPqa,QACAL,iBAAkBqB,EAAiB1B,EAAiBK,EACpDhD,WACAsE,gBACArE,uBACAC,WACAqE,gBACAC,oBACArE,gBACAtE,cACAC,cACAsE,SACAC,WACAC,mBAGWtX,QAAQga,iBAAmB,GACxCvD,EAAWzW,QAAQga,iBAAmBR,EAAQxX,OAAS,KACvDyU,EAAWzW,QAAQga,iBAAmB,IAgIpCE,GAA0B,WAC9B5E,EAAckB,IACdA,EAAqCe,IACrCf,EAAkCe,KAG9BA,GAA0B,WACPf,MACAlB,GAAemB,GAEpC9K,YAAW,WACL8K,GACF8C,GAAkB9C,EAAW+C,QAAS/C,EAAWzW,SAAS,KAE3D,MAID+Z,GAAoB,SAACS,GACzBnB,EAAWmB,EACXpB,EAASrL,YAAcsL,EAAW9W,OAAOmR,WACzC+C,EAAWzW,QAAQsb,cAAcjC,IAG7BY,GAAgB,WACpB,IAAIpC,EAAUrV,SAASsV,yBACf0B,EAAY/C,EAAZ+C,QACFc,EAAYd,EAAQxX,OAAS,EAC3BqY,EAAU5D,EAAWzW,QAArBqa,MACR,GAAIA,GAASb,EAAQxX,OACnBwX,EAAQtT,SAAQ,SAAC0Q,EAAQjP,GACvBkQ,EAAQ7S,YAAYyS,GAAmBb,EAAQjP,WAE5C,CACL,IAAM8T,EAAQC,KACdlC,EAAQtT,SAAQ,SAAC0Q,EAAQjP,GACvB,GAAiB,IAAb0R,EACE1R,EAAQ0S,EACVxC,EAAQ7S,YAAYyS,GAAmBb,EAAQjP,IAE/CkQ,EAAQ7S,YAAYyW,EAAME,kBAEvB,GAAItC,IAAaiB,EAClB3S,EAAQ2S,EAAYD,EACtBxC,EAAQ7S,YAAYyS,GAAmBb,EAAQjP,IAE/CkQ,EAAQ7S,YAAYyW,EAAME,iBAEvB,CACL,IAAMd,EAAYpP,KAAKqP,MAAMT,EAAQ,GACjC1S,IAAU0R,GAAa1R,GAAS0R,EAAWwB,GAAalT,GAAS0R,EAAWwB,EAC9EhD,EAAQ7S,YAAYyS,GAAmBb,EAAQjP,IAE/CkQ,EAAQ7S,YAAYyW,EAAME,iBAKlCvC,EAASpU,YAAY6S,GACrBA,EAAU,MAGN+D,GAAgB,SAACC,GACrB,GAAmB,OAAfpF,EAAJ,CACA,MAAwCA,EAAhC+C,EAAR,EAAQA,QAAoBa,EAA5B,EAAiBra,QAAWqa,MACtBC,EAAYd,EAAQxX,OAAS,EAClB,IAAbqX,GACFA,IAAaiB,GACbjB,IAAawC,GACbxB,GAASb,EAAQxX,QAGnB2J,YAAW,WACT,IAAMmQ,EAAmB1C,EAASjR,WAC5BsS,EAAWqB,EAAiBzC,GAC9BoB,IAAaA,EAASC,aAAa,UACrCtB,EAASuB,aAAalD,GAAmB+B,EAAQH,GAAWA,GAAWoB,GAEzE,IAAMI,EAAYpP,KAAKqP,MAAMT,EAAQ,GACrC,GAAIhB,EAAWwC,EAAU,CACvB,IAAME,EAAY1C,EAAWwB,EACvBmB,EAAWF,EAAiBC,GAC9BC,IAAaA,EAAStB,aAAa,UACrCtB,EAASuB,aAAalD,GAAmB+B,EAAQuC,GAAYA,GAAYC,GAE3E,IAAMC,EAAU5C,EAAWwB,EAAY,EACvC,GAAIoB,GAAW,EAAG,CAChB,IAAMC,EAASJ,EAAiBG,GAChC7C,EAASuB,aAAae,KAAeQ,SAElC,GAAI7C,EAAWwC,EAAU,CAC9B,IAAMM,EAAY9C,EAAWwB,EACvBuB,EAAWN,EAAiBK,GAC9BC,IAAaA,EAAS1B,aAAa,UACrCtB,EAASuB,aAAalD,GAAmB+B,EAAQ2C,GAAYA,GAAYC,GAE3E,IAAMC,EAAUR,EAAWhB,EAC3B,GAAIwB,GAAW/B,EAAW,CACxB,IAAMgC,EAASR,EAAiBO,GAChCjD,EAASuB,aAAae,KAAeY,OAGxC,KAGCZ,GAAc,WAClB,IAAMa,EAAK/Z,SAASkD,cAAc,OAGlC,OAFA6W,EAAG9X,MAAMmF,MAAQrH,OAAOmR,WAAa,KACrC6I,EAAG9X,MAAM+X,WAAa,SACfD,GAGH7E,GAAiB,WACrB,IAAQR,EAAaT,EAAWzW,QAAxBkX,SACR,GAAIA,EAASlV,OAAS,EAAG,CACvB,IAAI6V,EAAUrV,SAASsV,yBACvBZ,EAAShR,SAAQ,SAAA6R,GAEc,IAAzBA,EAAYC,SACdH,EAAQ7S,YAAY+S,GAEpBE,QAAQC,KAAK,qBAAsBH,MAGvC1B,EAAarR,YAAY6S,GACzBA,EAAU,OAMR4E,GAAe,SAAC7J,EAAK8J,EAAYb,GAErC,GAAIa,IAAeb,EAAU,CAC3BpF,EAAWzW,QAAQsb,cAAcoB,GACjC,IAAQ3O,EAA2C6E,EAA3C7E,WAAYC,EAA+B4E,EAA/B5E,WAAYE,EAAmB0E,EAAnB1E,OAAQC,EAAWyE,EAAXzE,OACrB,IAAfJ,GAAkB,IAAI/D,EAAG4I,EAAK,aAAc,EAAG,IAAK1I,GACrC,IAAf8D,GAAkB,IAAIhE,EAAG4I,EAAK,aAAc,EAAG,IAAK1I,GACpDgE,EAAS,GAAG,IAAIlE,EAAG4I,EAAK,SAAU,EAAG,IAAK1I,GAC1CiE,EAAS,GAAG,IAAInE,EAAG4I,EAAK,SAAU,EAAG,IAAK1I,GAEhDyS,GAASD,EAAYb,IAGjBc,GAAW,SAACD,EAAYb,GAC5B,IAAMe,GAAOF,EAAana,OAAOmR,WAC7BjI,KAAKoR,IAAIzD,EAASrL,cAAgBtC,KAAKoR,IAAID,IAC7C,IAAI5S,EAAGoP,EAAU,aAAcwD,EAAK,IAAK1S,EAAM0R,GAActc,U,EAAWuc,KAetEiB,GAAoB,SAACxG,EAAQgC,EAAGC,EAAGwE,GACvCzG,EAAOvM,IAAMgT,EAZK,SAACzG,EAAQgC,GAC3B,IAAIE,EAAW,EAEbA,EADEF,EAAI/V,OAAOmR,WACFnR,OAAOmR,WAEP4E,EAEbhC,EAAO7R,MAAMmF,MAAQ4O,EAAW,KAChClC,EAAO7R,MAAMoF,OAAS,OAKtBwO,CAAY/B,EAAQgC,IAyBhBb,GAAqB,SAACb,EAAQjP,GAClC,IAAMqV,EAAkBxa,SAASkD,cAAc,OAC/CsX,EAAgB7W,aAAa,QAvdO,6CAwdpC6W,EAAgBvY,MAAMmF,MAAQrH,OAAOmR,WAAa,KAElD,IAAM6C,EAAa/T,SAASkD,cAAc,OAC1C6Q,EAAWpQ,aAAa,QAAS,8BACjC6W,EAAgBhY,YAAYuR,GAE5B,IAAMD,EAAS9T,SAASkD,cAAc,OAetC,OAdA4Q,EAAOnQ,aAAa,KAtEL,SAAAwB,GAAK,gBA1ZS,qCA0ZT,YAAiCA,GAsE3BsV,CAAStV,IACnC2O,EAAOnQ,aAAa,MChfP,gJDifbmQ,EAAOnQ,aAAa,MAAOyQ,EAAOuB,KAAO,IACzC7B,EAAO7R,MAAMmF,MAAQrH,OAAOmR,WAAa,KACzC4C,EAAO7R,MAAMoF,OAAStH,OAAOmR,WAAa,KAC1CsJ,EAAgBhY,YAAYsR,GAE5BhN,EAAYsN,EAAO7M,KAAK,SAAUuO,EAAGC,GACnCuE,GAAkBxG,EAAQgC,EAAGC,EAAG3B,EAAO7M,QACtC,SAAU0O,IAzCY,SAACuE,EAAiB1G,EAAQC,EAAYkC,GAC/D,GAAIA,EAAO,CACT,IACEzB,EACEP,EAAWzW,QADbgX,SAEF,GAAIA,EAAU,CAOZ1N,EAAY0N,GANY,SAAUsB,EAAGC,GACnCuE,GAAkBxG,EAAQgC,EAAGC,EAAGvB,MAEZ,WACpBgG,EAAgB3X,YAAYkR,MAG9BD,EAAOvM,IAAMiN,OAEbgG,EAAgB3X,YAAYkR,QAG9ByG,EAAgB3X,YAAYkR,GAwB5B2G,CAAmBF,EAAiB1G,EAAQC,EAAYkC,MAG1DnE,EAAUgC,GACH0G,GAGHxF,GAAwB,WAE5B,KADAnB,EAAe7T,SAASwW,eApfE,oCAqfP,EACjB3C,EAAe7T,SAASkD,cAAc,QACzBS,aAAa,KAvfF,mCAwfxBkQ,EAAa5R,MAAMmF,MAAQrH,OAAOmR,WAAa,KAC/C2C,EAAa5R,MAAMoF,OAAStH,OAAOgR,YAAc,KACjD,MAA6BkD,EAAWzW,QAAhCoX,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,SACD,OAAXD,IACFf,EAAa5R,MAAM,WAAa2S,GAEjB,OAAbC,IACFhB,EAAa5R,MAAMwU,WAAa5B,GAElC7U,SAASsT,KAAK9Q,YAAYqR,GAjW5B,EAOII,EAAWzW,QANbwb,EADF,EACEA,kBACArE,EAFF,EAEEA,cACAoE,EAHF,EAGEA,cACA1I,EAJF,EAIEA,YACAC,EALF,EAKEA,YACAwE,EANF,EAMEA,cAEI6F,EAAY1G,EAAW+C,QAAQxX,OACrCsX,GAAoB1F,EAAeyC,EAAc,CAC/CrC,cAAe,SAAAhB,GACb,IAAQjF,EAAeqL,EAAfrL,WACFqP,EAAe3R,KAAKoR,IAAI9O,GAAcxL,OAAOmR,WAC7C8G,EAAO/O,KAAKqP,MAAMsC,GAClBC,EAASD,EAAe5C,EACxB8C,EAAgBjE,EACA,SAAlBrG,EAAIuK,WACNlE,EAAW8D,EAAY,GACtB3C,GAAQnB,GAAYgE,GAAU9B,GAC/BlC,GAAY,EACZoD,GAAarB,GAAckC,GAAgBjE,EAAUiE,IAC1B,UAAlBtK,EAAIuK,WACblE,EAAW,GACVmB,EAAOnB,GAAYgE,GAAW,EAAI9B,GACnClC,GAAY,EACZoD,GAAarB,GAAckC,GAAgBjE,EAAUiE,IAErDb,GAAarB,KAAiB/B,EAAUiE,IAG5CzJ,kBAAmB,SAAAb,GACjB,IAAMmI,EAAaC,KACnB,GAAKpI,GAAQmI,EAAb,CACA,IAAMqC,EAAyBnE,EAAW9W,OAAOmR,WACzCxF,EAA8BiN,EAA9BjN,OAAQtE,EAAsBuR,EAAtBvR,MAAOmE,EAAeoN,EAAfpN,WACf6K,EAAmB5F,EAAnB4F,OAAQC,EAAW7F,EAAX6F,OACV4E,EAAkBjC,EAAoB5C,EAASQ,EAASrL,WACxD2P,EAAYxP,EAAStE,EACrB+T,EAAclS,KAAKoR,IAAIa,EAAY9T,GAAS,EAC5CgU,EAAgB7P,EAAa6K,EAASzB,EAC5C,GAAI1L,KAAKoR,IAAIjE,GAAUnN,KAAKoR,IAAIhE,GAC9B,GAAI6E,GAAa9T,EACfwP,EAASrL,WAAa0P,OAEtB,GAAIhS,KAAKoR,IAAIe,GAAiBD,GAAe,EAC3C,GAAI/E,EAAS,EACX,GAAInN,KAAKoR,IAAIzD,EAASrL,YAAcyP,EAAwB,CAC1D,IAAMK,EAAiBJ,EACnBhS,KAAKoR,IAAIgB,GAAkBL,EAC7BpE,EAASrL,YAAcyP,EAEvBpE,EAASrL,WAAa8P,OAGxB1C,EAAWpN,WAAa6P,OAG1B,GAAInS,KAAKoR,IAAIzD,EAASrL,YAAcyP,EAAwB,CAC1D,IAAMK,EAAiBJ,EACnBhS,KAAKoR,IAAIgB,GAAkBL,EAC7BpE,EAASrL,YAAcyP,EAEvBpE,EAASrL,WAAa8P,OAGxB1C,EAAWpN,WAAa6P,OAI5BxE,EAASrL,WAAa0P,OAI1BtC,EAAWnN,YAAc6K,EAAS1B,IAGtCrD,iBAAkB,WAChB,IAAQ/F,EAAeqL,EAAfrL,WACFqP,EAAe3R,KAAKoR,IAAI9O,GAAcxL,OAAOmR,WAC7C8G,EAAO/O,KAAKqP,MAAMsC,GAClBC,EAASD,EAAe5C,EACxB8C,EAAgBjE,EAClByE,EAAUzE,EACVmB,EAAOnB,EACLgE,GAAW,EAAI9B,IACjBuC,GAAW,GAGTT,GAAU9B,GACRlC,EAAW,IAAM8D,GAAapP,EAAa,IAC7C+P,GAAW,GAIbA,IAAYR,GACdb,GAAarB,GAAckC,GAAgBA,EAAeA,IAG9DvJ,kBAAmB,WACduD,GAAesC,MAEpB3F,kBAAmB,SAAAjB,GACjBD,EAAiBqI,KAAiBpI,EAAKH,EAAaC,IAEtDoB,sBAAuB,WACjBuC,GACF9D,EAAgByI,KAAiBvI,EAAaC,IAGlDqB,wBAAyB,WACvB,IAAMvB,EAAMwI,KACZ,OAAKxI,EACOA,EAAI1E,OADC,GAGnBmG,cAAe,SAACrB,EAAKuB,GACnB,IAAM3B,EAAMwI,KACPpI,GAAQJ,IACbA,EAAI1E,OAAS0E,EAAIzE,OAASoG,EAAYvB,EAAI2F,SAG9CtC,EAAa5R,MAAMxE,UAAY,OAzHC,IAChC,EACEub,EACArE,EACAoE,EACA1I,EACAC,EACAwE,EAEI6F,GA8VF/B,GAAgB,WAAqB,IAApBZ,EAAoB,uDAAbnB,EAC5B,OAAOD,EAASjR,WAAWqS,GAAMrS,WAAW,IAGxC2R,GAAoB,YACxBV,EAAW5W,SAASwW,eA1gBE,mCA4gBpBI,EAAW5W,SAASkD,cAAc,QACzBS,aAAa,KA7gBF,+BA8gBpBiT,EAAS3U,MAAMmF,MAASrH,OAAOmR,WAAa+C,EAAW+C,QAAQxX,OAAU,KACzEoX,EAAS3U,MAAMoF,OAAStH,OAAOgR,YAAc,KAC7C8C,EAAarR,YAAYoU,GACzB9E,EAAU8E,KAIRxB,GAAwB,WAC5BvB,GAAgB7T,SAASsT,KAAKzQ,YAAYgR,GAC1CG,EAAqCe,IACrCjC,EAAckB,EACdH,EAAe,KACf+C,EAAW,KACXC,EAAW,EACX5C,EAAa,KACT6C,KACFA,GAAkBH,UAClBG,GAAkBzF,kBAAoB,KACtCyF,GAAoB,O,6rBE3iBxB,IAAMyE,GAAS,SACVC,GACAC,GAIQtH,IADEoH,aACWC,GACbnH,GAAamH,EACbzE,GAAoB0E,GACpBrE,GAAoBqE,GACpB9D,GAAiB8D","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n","module.exports = require(\"alloyfinger\");","\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/less-loader/dist/cjs.js!../node_modules/postcss-loader/src/index.js??ref--6-3!./main.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/less-loader/dist/cjs.js!../node_modules/postcss-loader/src/index.js??ref--6-3!./main.less\", function() {\n\t\tvar newContent = require(\"!!../node_modules/css-loader/dist/cjs.js!../node_modules/less-loader/dist/cjs.js!../node_modules/postcss-loader/src/index.js??ref--6-3!./main.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#pobi_mobile_viewer_container_id {\\n  display: block;\\n  position: fixed;\\n  width: 100%;\\n  height: 100%;\\n  left: 0;\\n  top: 0;\\n  background: #000000;\\n  z-index: 999;\\n}\\n#pobi_mobile_viewer_panel_id {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n  flex-direction: row;\\n  flex-wrap: nowrap;\\n  -webkit-box-align: center;\\n  align-items: center;\\n  width: 100%;\\n  height: 100%;\\n  background: transparent;\\n}\\n#pobi_mobile_viewer_panel_id .pobi_mobile_viewer_single_image_container {\\n  position: relative;\\n  flex-shrink: 0;\\n  text-align: center;\\n}\\n#pobi_mobile_viewer_panel_id .pobi_mobile_viewer_single_image_container img {\\n  height: auto;\\n}\\n#pobi_mobile_viewer_single_image_id {\\n  width: 100%;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  bottom: 0;\\n  margin: auto;\\n}\\n.pobi_mobile_viewer_loading {\\n  display: inline-block;\\n  width: 4em;\\n  height: 4em;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 0;\\n  bottom: 0;\\n  margin: auto;\\n}\\n.pobi_mobile_viewer_loading:after {\\n  content: \\\" \\\";\\n  display: block;\\n  width: 3em;\\n  height: 3em;\\n  margin: 1px;\\n  border-radius: 50%;\\n  border: 0.3em solid #fff;\\n  border-color: #fff transparent #fff transparent;\\n  -webkit-animation: pobi_mobile_viewer_loading 1.2s linear infinite;\\n  animation: pobi_mobile_viewer_loading 1.2s linear infinite;\\n}\\n@-webkit-keyframes pobi_mobile_viewer_loading {\\n  0% {\\n    -webkit-transform: rotate(0deg);\\n    transform: rotate(0deg);\\n  }\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n    transform: rotate(360deg);\\n  }\\n}\\n@keyframes pobi_mobile_viewer_loading {\\n  0% {\\n    -webkit-transform: rotate(0deg);\\n    transform: rotate(0deg);\\n  }\\n  100% {\\n    -webkit-transform: rotate(360deg);\\n    transform: rotate(360deg);\\n  }\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\nvar stylesInDom = {};\n\nvar\tmemoize = function (fn) {\n\tvar memo;\n\n\treturn function () {\n\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\n\t\treturn memo;\n\t};\n};\n\nvar isOldIE = memoize(function () {\n\t// Test for IE <= 9 as proposed by Browserhacks\n\t// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n\t// Tests for existence of standard globals is to allow style-loader\n\t// to operate correctly into non-standard environments\n\t// @see https://github.com/webpack-contrib/style-loader/issues/177\n\treturn window && document && document.all && !window.atob;\n});\n\nvar getTarget = function (target, parent) {\n  if (parent){\n    return parent.querySelector(target);\n  }\n  return document.querySelector(target);\n};\n\nvar getElement = (function (fn) {\n\tvar memo = {};\n\n\treturn function(target, parent) {\n                // If passing function in options, then use it for resolve \"head\" element.\n                // Useful for Shadow Root style i.e\n                // {\n                //   insertInto: function () { return document.querySelector(\"#foo\").shadowRoot }\n                // }\n                if (typeof target === 'function') {\n                        return target();\n                }\n                if (typeof memo[target] === \"undefined\") {\n\t\t\tvar styleTarget = getTarget.call(this, target, parent);\n\t\t\t// Special case to return head of iframe instead of iframe itself\n\t\t\tif (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n\t\t\t\ttry {\n\t\t\t\t\t// This will throw an exception if access to iframe is blocked\n\t\t\t\t\t// due to cross-origin restrictions\n\t\t\t\t\tstyleTarget = styleTarget.contentDocument.head;\n\t\t\t\t} catch(e) {\n\t\t\t\t\tstyleTarget = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tmemo[target] = styleTarget;\n\t\t}\n\t\treturn memo[target]\n\t};\n})();\n\nvar singleton = null;\nvar\tsingletonCounter = 0;\nvar\tstylesInsertedAtTop = [];\n\nvar\tfixUrls = require(\"./urls\");\n\nmodule.exports = function(list, options) {\n\tif (typeof DEBUG !== \"undefined\" && DEBUG) {\n\t\tif (typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\n\t}\n\n\toptions = options || {};\n\n\toptions.attrs = typeof options.attrs === \"object\" ? options.attrs : {};\n\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (!options.singleton && typeof options.singleton !== \"boolean\") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the <head> element\n        if (!options.insertInto) options.insertInto = \"head\";\n\n\t// By default, add <style> tags to the bottom of the target\n\tif (!options.insertAt) options.insertAt = \"bottom\";\n\n\tvar styles = listToStyles(list, options);\n\n\taddStylesToDom(styles, options);\n\n\treturn function update (newList) {\n\t\tvar mayRemove = [];\n\n\t\tfor (var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList, options);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\n\t\tfor (var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();\n\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n};\n\nfunction addStylesToDom (styles, options) {\n\tfor (var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles (list, options) {\n\tvar styles = [];\n\tvar newStyles = {};\n\n\tfor (var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = options.base ? item[0] + options.base : item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\n\t\tif(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse newStyles[id].parts.push(part);\n\t}\n\n\treturn styles;\n}\n\nfunction insertStyleElement (options, style) {\n\tvar target = getElement(options.insertInto)\n\n\tif (!target) {\n\t\tthrow new Error(\"Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.\");\n\t}\n\n\tvar lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];\n\n\tif (options.insertAt === \"top\") {\n\t\tif (!lastStyleElementInsertedAtTop) {\n\t\t\ttarget.insertBefore(style, target.firstChild);\n\t\t} else if (lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\ttarget.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\ttarget.appendChild(style);\n\t\t}\n\t\tstylesInsertedAtTop.push(style);\n\t} else if (options.insertAt === \"bottom\") {\n\t\ttarget.appendChild(style);\n\t} else if (typeof options.insertAt === \"object\" && options.insertAt.before) {\n\t\tvar nextSibling = getElement(options.insertAt.before, target);\n\t\ttarget.insertBefore(style, nextSibling);\n\t} else {\n\t\tthrow new Error(\"[Style Loader]\\n\\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\\n Must be 'top', 'bottom', or Object.\\n (https://github.com/webpack-contrib/style-loader#insertat)\\n\");\n\t}\n}\n\nfunction removeStyleElement (style) {\n\tif (style.parentNode === null) return false;\n\tstyle.parentNode.removeChild(style);\n\n\tvar idx = stylesInsertedAtTop.indexOf(style);\n\tif(idx >= 0) {\n\t\tstylesInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement (options) {\n\tvar style = document.createElement(\"style\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\n\tif(options.attrs.nonce === undefined) {\n\t\tvar nonce = getNonce();\n\t\tif (nonce) {\n\t\t\toptions.attrs.nonce = nonce;\n\t\t}\n\t}\n\n\taddAttrs(style, options.attrs);\n\tinsertStyleElement(options, style);\n\n\treturn style;\n}\n\nfunction createLinkElement (options) {\n\tvar link = document.createElement(\"link\");\n\n\tif(options.attrs.type === undefined) {\n\t\toptions.attrs.type = \"text/css\";\n\t}\n\toptions.attrs.rel = \"stylesheet\";\n\n\taddAttrs(link, options.attrs);\n\tinsertStyleElement(options, link);\n\n\treturn link;\n}\n\nfunction addAttrs (el, attrs) {\n\tObject.keys(attrs).forEach(function (key) {\n\t\tel.setAttribute(key, attrs[key]);\n\t});\n}\n\nfunction getNonce() {\n\tif (typeof __webpack_nonce__ === 'undefined') {\n\t\treturn null;\n\t}\n\n\treturn __webpack_nonce__;\n}\n\nfunction addStyle (obj, options) {\n\tvar style, update, remove, result;\n\n\t// If a transform function was defined, run it on the css\n\tif (options.transform && obj.css) {\n\t    result = typeof options.transform === 'function'\n\t\t ? options.transform(obj.css) \n\t\t : options.transform.default(obj.css);\n\n\t    if (result) {\n\t    \t// If transform returns a value, use that instead of the original css.\n\t    \t// This allows running runtime transformations on the css.\n\t    \tobj.css = result;\n\t    } else {\n\t    \t// If the transform function returns a falsy value, don't add this css.\n\t    \t// This allows conditional loading of css\n\t    \treturn function() {\n\t    \t\t// noop\n\t    \t};\n\t    }\n\t}\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\n\t\tstyle = singleton || (singleton = createStyleElement(options));\n\n\t\tupdate = applyToSingletonTag.bind(null, style, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, style, styleIndex, true);\n\n\t} else if (\n\t\tobj.sourceMap &&\n\t\ttypeof URL === \"function\" &&\n\t\ttypeof URL.createObjectURL === \"function\" &&\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\n\t\ttypeof Blob === \"function\" &&\n\t\ttypeof btoa === \"function\"\n\t) {\n\t\tstyle = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, style, options);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\n\t\t\tif(style.href) URL.revokeObjectURL(style.href);\n\t\t};\n\t} else {\n\t\tstyle = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, style);\n\t\tremove = function () {\n\t\t\tremoveStyleElement(style);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle (newObj) {\n\t\tif (newObj) {\n\t\t\tif (\n\t\t\t\tnewObj.css === obj.css &&\n\t\t\t\tnewObj.media === obj.media &&\n\t\t\t\tnewObj.sourceMap === obj.sourceMap\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\n\t\treturn textStore.filter(Boolean).join('\\n');\n\t};\n})();\n\nfunction applyToSingletonTag (style, index, remove, obj) {\n\tvar css = remove ? \"\" : obj.css;\n\n\tif (style.styleSheet) {\n\t\tstyle.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = style.childNodes;\n\n\t\tif (childNodes[index]) style.removeChild(childNodes[index]);\n\n\t\tif (childNodes.length) {\n\t\t\tstyle.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyle.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag (style, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyle.setAttribute(\"media\", media)\n\t}\n\n\tif(style.styleSheet) {\n\t\tstyle.styleSheet.cssText = css;\n\t} else {\n\t\twhile(style.firstChild) {\n\t\t\tstyle.removeChild(style.firstChild);\n\t\t}\n\n\t\tstyle.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink (link, options, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\t/*\n\t\tIf convertToAbsoluteUrls isn't defined, but sourcemaps are enabled\n\t\tand there is no publicPath defined then lets turn convertToAbsoluteUrls\n\t\ton by default.  Otherwise default to the convertToAbsoluteUrls option\n\t\tdirectly\n\t*/\n\tvar autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;\n\n\tif (options.convertToAbsoluteUrls || autoFixUrls) {\n\t\tcss = fixUrls(css);\n\t}\n\n\tif (sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n\t}\n\n\tvar blob = new Blob([css], { type: \"text/css\" });\n\n\tvar oldSrc = link.href;\n\n\tlink.href = URL.createObjectURL(blob);\n\n\tif(oldSrc) URL.revokeObjectURL(oldSrc);\n}\n","\n/**\n * When source maps are enabled, `style-loader` uses a link element with a data-uri to\n * embed the css on the page. This breaks all relative urls because now they are relative to a\n * bundle instead of the current page.\n *\n * One solution is to only use full urls, but that may be impossible.\n *\n * Instead, this function \"fixes\" the relative urls to be absolute according to the current page location.\n *\n * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.\n *\n */\n\nmodule.exports = function (css) {\n  // get current location\n  var location = typeof window !== \"undefined\" && window.location;\n\n  if (!location) {\n    throw new Error(\"fixUrls requires window.location\");\n  }\n\n\t// blank or null?\n\tif (!css || typeof css !== \"string\") {\n\t  return css;\n  }\n\n  var baseUrl = location.protocol + \"//\" + location.host;\n  var currentDir = baseUrl + location.pathname.replace(/\\/[^\\/]*$/, \"/\");\n\n\t// convert each url(...)\n\t/*\n\tThis regular expression is just a way to recursively match brackets within\n\ta string.\n\n\t /url\\s*\\(  = Match on the word \"url\" with any whitespace after it and then a parens\n\t   (  = Start a capturing group\n\t     (?:  = Start a non-capturing group\n\t         [^)(]  = Match anything that isn't a parentheses\n\t         |  = OR\n\t         \\(  = Match a start parentheses\n\t             (?:  = Start another non-capturing groups\n\t                 [^)(]+  = Match anything that isn't a parentheses\n\t                 |  = OR\n\t                 \\(  = Match a start parentheses\n\t                     [^)(]*  = Match anything that isn't a parentheses\n\t                 \\)  = Match a end parentheses\n\t             )  = End Group\n              *\\) = Match anything and then a close parens\n          )  = Close non-capturing group\n          *  = Match anything\n       )  = Close capturing group\n\t \\)  = Match a close parens\n\n\t /gi  = Get all matches, not the first.  Be case insensitive.\n\t */\n\tvar fixedCss = css.replace(/url\\s*\\(((?:[^)(]|\\((?:[^)(]+|\\([^)(]*\\))*\\))*)\\)/gi, function(fullMatch, origUrl) {\n\t\t// strip quotes (if they exist)\n\t\tvar unquotedOrigUrl = origUrl\n\t\t\t.trim()\n\t\t\t.replace(/^\"(.*)\"$/, function(o, $1){ return $1; })\n\t\t\t.replace(/^'(.*)'$/, function(o, $1){ return $1; });\n\n\t\t// already a full url? no change\n\t\tif (/^(#|data:|http:\\/\\/|https:\\/\\/|file:\\/\\/\\/|\\s*$)/i.test(unquotedOrigUrl)) {\n\t\t  return fullMatch;\n\t\t}\n\n\t\t// convert the url to a full url\n\t\tvar newUrl;\n\n\t\tif (unquotedOrigUrl.indexOf(\"//\") === 0) {\n\t\t  \t//TODO: should we add protocol?\n\t\t\tnewUrl = unquotedOrigUrl;\n\t\t} else if (unquotedOrigUrl.indexOf(\"/\") === 0) {\n\t\t\t// path should be relative to the base url\n\t\t\tnewUrl = baseUrl + unquotedOrigUrl; // already starts with '/'\n\t\t} else {\n\t\t\t// path should be relative to current directory\n\t\t\tnewUrl = currentDir + unquotedOrigUrl.replace(/^\\.\\//, \"\"); // Strip leading './'\n\t\t}\n\n\t\t// send back the fixed url(...)\n\t\treturn \"url(\" + JSON.stringify(newUrl) + \")\";\n\t});\n\n\t// send back the fixed css\n\treturn fixedCss;\n};\n","export default function imageLoaded (imgUrl, onload, onFinish) {\n  var img = new Image()\n  img.onload = function () {\n    // real_width, real_height\n    onload && onload(this.width, this.height)\n    onload = null\n    onFinish && onFinish()\n    onFinish = null\n    img.onload = null\n  }\n  img.onerror = function () {\n    onFinish && onFinish(true)\n    onFinish = null\n    img.onerror = null\n  }\n  img.src = imgUrl\n}\n","(function () {\n  var lastTime = 0\n  var vendors = ['webkit', 'moz']\n  for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\n    window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame']\n    window.cancelAnimationFrame =\n            window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame']\n  }\n\n  if (!window.requestAnimationFrame) {\n    window.requestAnimationFrame = function (callback) {\n      var currTime = new Date().getTime()\n      var timeToCall = Math.max(0, 16 - (currTime - lastTime))\n      var id = window.setTimeout(function () {\n        callback(currTime + timeToCall)\n      }, timeToCall)\n      lastTime = currTime + timeToCall\n      return id\n    }\n  }\n\n  if (!window.cancelAnimationFrame) {\n    window.cancelAnimationFrame = function (id) {\n      clearTimeout(id)\n    }\n  }\n}())\n\nexport default function To (el, property, value, time, ease, onEnd, onChange) {\n  var current = el[property]\n  var dv = value - current\n  var beginTime = new Date()\n  var self = this\n  var currentEase = ease || function (a) { return a }\n  this.tickID = null\n  var toTick = function () {\n    var dt = new Date() - beginTime\n    if (dt >= time) {\n      el[property] = value\n      onChange && onChange(value)\n      onEnd && onEnd(value)\n      window.cancelAnimationFrame(self.tickID)\n      self.toTick = null\n      return\n    }\n    el[property] = dv * currentEase(dt / time) + current\n    self.tickID = window.requestAnimationFrame(toTick)\n    onChange && onChange(el[property])\n  }\n  toTick()\n  To.List.push(this)\n}\n\nTo.List = []\n\nTo.stopAll = function () {\n  for (var i = 0, len = To.List.length; i < len; i++) {\n    window.cancelAnimationFrame(To.List[i].tickID)\n  }\n  To.List.length = 0\n}\n\nTo.stop = function (to) {\n  window.cancelAnimationFrame(to.tickID)\n}\n","/* transformjs\n * By dntzhang\n */\n\nvar Matrix3D = function (n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44) {\n  this.elements = window.Float32Array ? new Float32Array(16) : []\n  var te = this.elements\n  te[0] = (n11 !== undefined) ? n11 : 1; te[4] = n12 || 0; te[8] = n13 || 0; te[12] = n14 || 0\n  te[1] = n21 || 0; te[5] = (n22 !== undefined) ? n22 : 1; te[9] = n23 || 0; te[13] = n24 || 0\n  te[2] = n31 || 0; te[6] = n32 || 0; te[10] = (n33 !== undefined) ? n33 : 1; te[14] = n34 || 0\n  te[3] = n41 || 0; te[7] = n42 || 0; te[11] = n43 || 0; te[15] = (n44 !== undefined) ? n44 : 1\n}\n\nMatrix3D.DEG_TO_RAD = Math.PI / 180\n\nMatrix3D.prototype = {\n  set: function (n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44) {\n    var te = this.elements\n    te[0] = n11; te[4] = n12; te[8] = n13; te[12] = n14\n    te[1] = n21; te[5] = n22; te[9] = n23; te[13] = n24\n    te[2] = n31; te[6] = n32; te[10] = n33; te[14] = n34\n    te[3] = n41; te[7] = n42; te[11] = n43; te[15] = n44\n    return this\n  },\n  identity: function () {\n    this.set(\n      1, 0, 0, 0,\n      0, 1, 0, 0,\n      0, 0, 1, 0,\n      0, 0, 0, 1\n    )\n    return this\n  },\n  multiplyMatrices: function (a, be) {\n    var ae = a.elements\n    var te = this.elements\n    var a11 = ae[0]; var a12 = ae[4]; var a13 = ae[8]; var a14 = ae[12]\n    var a21 = ae[1]; var a22 = ae[5]; var a23 = ae[9]; var a24 = ae[13]\n    var a31 = ae[2]; var a32 = ae[6]; var a33 = ae[10]; var a34 = ae[14]\n    var a41 = ae[3]; var a42 = ae[7]; var a43 = ae[11]; var a44 = ae[15]\n\n    var b11 = be[0]; var b12 = be[1]; var b13 = be[2]; var b14 = be[3]\n    var b21 = be[4]; var b22 = be[5]; var b23 = be[6]; var b24 = be[7]\n    var b31 = be[8]; var b32 = be[9]; var b33 = be[10]; var b34 = be[11]\n    var b41 = be[12]; var b42 = be[13]; var b43 = be[14]; var b44 = be[15]\n\n    te[0] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41\n    te[4] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42\n    te[8] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43\n    te[12] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44\n\n    te[1] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41\n    te[5] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42\n    te[9] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43\n    te[13] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44\n\n    te[2] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41\n    te[6] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42\n    te[10] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43\n    te[14] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44\n\n    te[3] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41\n    te[7] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42\n    te[11] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43\n    te[15] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44\n\n    return this\n  },\n  // 解决角度为90的整数倍导致Math.cos得到极小的数，其实是0。导致不渲染\n  _rounded: function (value, i) {\n    i = Math.pow(10, i || 15)\n    // default\n    return Math.round(value * i) / i\n  },\n  appendTransform: function (x, y, z, scaleX, scaleY, scaleZ, rotateX, rotateY, rotateZ, skewX, skewY, originX, originY, originZ) {\n    var rx = rotateX * Matrix3D.DEG_TO_RAD\n    var cosx = this._rounded(Math.cos(rx))\n    var sinx = this._rounded(Math.sin(rx))\n    var ry = rotateY * Matrix3D.DEG_TO_RAD\n    var cosy = this._rounded(Math.cos(ry))\n    var siny = this._rounded(Math.sin(ry))\n    var rz = rotateZ * Matrix3D.DEG_TO_RAD\n    var cosz = this._rounded(Math.cos(rz * -1))\n    var sinz = this._rounded(Math.sin(rz * -1))\n\n    this.multiplyMatrices(this, [\n      1, 0, 0, x,\n      0, cosx, sinx, y,\n      0, -sinx, cosx, z,\n      0, 0, 0, 1\n    ])\n\n    this.multiplyMatrices(this, [\n      cosy, 0, siny, 0,\n      0, 1, 0, 0,\n      -siny, 0, cosy, 0,\n      0, 0, 0, 1\n    ])\n\n    this.multiplyMatrices(this, [\n      cosz * scaleX, sinz * scaleY, 0, 0,\n      -sinz * scaleX, cosz * scaleY, 0, 0,\n      0, 0, 1 * scaleZ, 0,\n      0, 0, 0, 1\n    ])\n\n    if (skewX || skewY) {\n      this.multiplyMatrices(this, [\n        this._rounded(Math.cos(skewX * Matrix3D.DEG_TO_RAD)), this._rounded(Math.sin(skewX * Matrix3D.DEG_TO_RAD)), 0, 0,\n        -1 * this._rounded(Math.sin(skewY * Matrix3D.DEG_TO_RAD)), this._rounded(Math.cos(skewY * Matrix3D.DEG_TO_RAD)), 0, 0,\n        0, 0, 1, 0,\n        0, 0, 0, 1\n      ])\n    }\n\n    if (originX || originY || originZ) {\n      this.elements[12] -= originX * this.elements[0] + originY * this.elements[4] + originZ * this.elements[8]\n      this.elements[13] -= originX * this.elements[1] + originY * this.elements[5] + originZ * this.elements[9]\n      this.elements[14] -= originX * this.elements[2] + originY * this.elements[6] + originZ * this.elements[10]\n    }\n    return this\n  }\n}\n\nfunction observe (target, props, callback) {\n  for (var i = 0, len = props.length; i < len; i++) {\n    var prop = props[i]\n    watch(target, prop, callback)\n  }\n}\n\nfunction watch (target, prop, callback) {\n  Object.defineProperty(target, prop, {\n    get: function () {\n      return this['__' + prop]\n    },\n    set: function (value) {\n      if (value !== this['__' + prop]) {\n        this['__' + prop] = value\n        callback()\n      }\n    }\n  })\n}\n\nexport default function transform (element) {\n  observe(\n    element,\n    ['translateX', 'translateY', 'translateZ', 'scaleX', 'scaleY', 'scaleZ', 'rotateX', 'rotateY', 'rotateZ', 'skewX', 'skewY', 'originX', 'originY', 'originZ'],\n    function () {\n      var mtx = element.matrix3D.identity().appendTransform(element.translateX, element.translateY, element.translateZ, element.scaleX, element.scaleY, element.scaleZ, element.rotateX, element.rotateY, element.rotateZ, element.skewX, element.skewY, element.originX, element.originY, element.originZ)\n      element.style.transform = element.style.msTransform = element.style.OTransform = element.style.MozTransform = element.style.webkitTransform = 'perspective(' + element.perspective + 'px) matrix3d(' + Array.prototype.slice.call(mtx.elements).join(',') + ')'\n    })\n\n  observe(\n    element,\n    ['perspective'],\n    function () {\n      element.style.transform = element.style.msTransform = element.style.OTransform = element.style.MozTransform = element.style.webkitTransform = 'perspective(' + element.perspective + 'px) matrix3d(' + Array.prototype.slice.call(element.matrix3D.elements).join(',') + ')'\n    })\n\n  element.matrix3D = new Matrix3D()\n  element.perspective = 500\n  element.scaleX = element.scaleY = element.scaleZ = 1\n  // 由于image自带了x\\y\\z，所有加上translate前缀\n  element.translateX = element.translateY = element.translateZ = element.rotateX = element.rotateY = element.rotateZ = element.skewX = element.skewY = element.originX = element.originY = element.originZ = 0\n}\n","export default function ease (x) {\n  return Math.sqrt(1 - Math.pow(x - 1, 2))\n}\n","import AlloyFinger from 'alloyfinger'\nimport To from './utils/to'\nimport Transform from './utils/transform'\nimport ease from './utils/ease'\n\nfunction noop () {}\n\nconst imgAlloyFinger = (el, options) => {\n  const {\n    pressMoveListener = noop,\n    touchEndListener = noop,\n    singleTapListener = noop,\n    swipeListener = noop,\n    doubleTapListener = noop,\n    multipointEndListener = noop,\n    multipointStartListener = noop,\n    rotateListener = noop,\n    pinchListener = noop\n  } = options\n  Transform(el)\n  let initScale = 1\n  // for trusted singleTab\n  let disableSingleTab = false\n  const alloyFinger = new AlloyFinger(el, {\n    multipointStart: function () {\n      To.stopAll()\n      initScale = multipointStartListener()\n    },\n    rotate: function (evt) {\n      disableSingleTab = true\n      rotateListener(evt)\n      evt.preventDefault()\n      evt.stopPropagation()\n    },\n    pinch: function (evt) {\n      disableSingleTab = true\n      pinchListener(evt, initScale)\n      evt.preventDefault()\n      evt.stopPropagation()\n    },\n    multipointEnd: function () {\n      To.stopAll()\n      multipointEndListener()\n    },\n    pressMove: function (evt) {\n      disableSingleTab = true\n      pressMoveListener(evt)\n      evt.preventDefault()\n      evt.stopPropagation()\n    },\n    doubleTap: function (evt) {\n      disableSingleTab = true\n      To.stopAll()\n      doubleTapListener(evt)\n    },\n    touchEnd: function (evt) {\n      evt.stopPropagation()\n      touchEndListener(evt)\n      // // singleTab delay 250, so we delay more. true ended for me!!!!\n      setTimeout(() => {\n        disableSingleTab = false\n      }, 500)\n    },\n    swipe: function (evt) {\n      disableSingleTab = true\n      swipeListener(evt)\n    },\n    singleTap: function () {\n      if (!disableSingleTab) {\n        singleTapListener()\n      }\n    }\n  })\n  alloyFinger.pressMoveListener = pressMoveListener\n  return alloyFinger\n}\n\nexport function triggerPointEnd (dom, imgMinScale, imgMaxScale) {\n  if (!dom) return\n  if (dom.scaleX < imgMinScale) {\n    new To(dom, 'scaleX', imgMinScale, 500, ease)\n    new To(dom, 'scaleY', imgMinScale, 500, ease)\n    new To(dom, 'translateX', 0, 500, ease)\n    new To(dom, 'translateY', 0, 500, ease)\n  }\n  if (dom.scaleX > imgMaxScale) {\n    new To(dom, 'scaleX', imgMaxScale, 500, ease)\n    new To(dom, 'scaleY', imgMaxScale, 500, ease)\n    new To(dom, 'translateX', 0, 500, ease)\n    new To(dom, 'translateY', 0, 500, ease)\n  }\n}\n\nexport function triggerRotateEnd (dom) {\n  if (!dom) return\n  let rotation = dom.rotateZ % 360\n  if (rotation < 0) rotation = 360 + rotation\n  dom.rotateZ = rotation\n  if (rotation > 0 && rotation < 45) {\n    new To(dom, 'rotateZ', 0, 500, ease)\n  } \n  // else if (rotation >= 315) {\n  //   new To(dom, 'rotateZ', 360, 500, ease)\n  // } else if (rotation >= 45 && rotation < 135) {\n  //   new To(dom, 'rotateZ', 90, 500, ease)\n  // } else if (rotation >= 135 && rotation < 225) {\n  //   new To(dom, 'rotateZ', 180, 500, ease)\n  // } else if (rotation >= 225 && rotation < 315) {\n  //   new To(dom, 'rotateZ', 270, 500, ease)\n  // }\n}\n\nexport function triggerDoubleTab (dom, evt, imgMinScale, imgMaxScale) {\n  if (!dom) return\n  if (dom.scaleX >= imgMaxScale) {\n    new To(dom, 'scaleX', imgMinScale, 500, ease)\n    new To(dom, 'scaleY', imgMinScale, 500, ease)\n    new To(dom, 'translateX', 0, 500, ease)\n    new To(dom, 'translateY', 0, 500, ease)\n  } else {\n    const { pageX, pageY } = evt.changedTouches[0]\n    const box = dom.getBoundingClientRect()\n    const topY = getImgDomTopY(dom)\n    const leftX = getImgDomLeftX(dom)\n    const y = box.height - (pageY - topY) * 2 - (box.height / 2 - (pageY - topY))\n    const x = box.width - (pageX - leftX) * 2 - (box.width / 2 - (pageX - leftX))\n    new To(dom, 'scaleX', imgMaxScale, 500, ease)\n    new To(dom, 'scaleY', imgMaxScale, 500, ease)\n    new To(dom, 'translateX', x, 500, ease)\n    new To(dom, 'translateY', y, 500, ease)\n  }\n}\n\nfunction getImgDomTopY (dom) {\n  if (!dom) return 0\n  const { translateY } = dom\n  const box = dom.getBoundingClientRect()\n  const topY = (window.innerHeight - box.height) / 2 + translateY\n  if (box.height > window.innerHeight) {\n    if (translateY > 0) {\n      return topY + (box.height - window.innerHeight) / 2\n    } else if (translateY < 0) {\n      return topY - (box.height - window.innerHeight) / 2\n    } else {\n      return topY\n    }\n  } else {\n    return topY\n  }\n}\n\nfunction getImgDomLeftX (dom) {\n  if (!dom) return 0\n  const { translateX } = dom\n  const box = dom.getBoundingClientRect()\n  const leftX = (window.innerWidth - box.width) / 2 + translateX\n  if (box.width > window.innerWidth) {\n    if (translateX > 0) {\n      return leftX + (box.width - window.innerWidth) / 2\n    } else if (translateX < 0) {\n      return leftX - (box.width - window.innerWidth) / 2\n    } else {\n      return leftX\n    }\n  } else {\n    return leftX\n  }\n}\n\nexport default imgAlloyFinger\n","const PORTRAIT = 'portrait'\nconst LANDSCAPE = 'landscape'\n\nconst phoneOrientation = () => {\n  if (window.orientation === 180 || window.orientation === 0) {\n    return PORTRAIT\n  } else {\n    return LANDSCAPE\n  }\n}\n\nconst addOrientationChangeListener = (listener) => {\n  window.addEventListener('onorientationchange' in window ? 'orientationchange' : 'resize', listener)\n}\n\nconst removeOrientationChangeListener = (listener) => {\n  window.removeEventListener('onorientationchange' in window ? 'orientationchange' : 'resize', listener)\n}\n\nexport default {\n  PORTRAIT,\n  LANDSCAPE,\n  phoneOrientation,\n  addOrientationChangeListener,\n  removeOrientationChangeListener\n}\n","function getScrollTop () {\n  return document.body.scrollTop || document.documentElement.scrollTop\n}\nfunction getScrollLeft () {\n  return document.body.scrollLeft || document.documentElement.scrollLeft\n}\nconst toggleForbidScrollThrough = (function toggleForbidScrollThrough () {\n  let scrollTop\n  let scrollLeft\n  const bodyPosition = document.body ? (document.body.style.position || 'static') : 'static'\n  return function toggleForbidScrollThroughInner (isForbide) {\n    if (isForbide) {\n      scrollTop = getScrollTop()\n      scrollLeft = getScrollLeft()\n      document.body.style.position = 'fixed'\n      document.body.style.top = `-${scrollTop}px`\n      document.body.style.left = `-${scrollLeft}px`\n    } else {\n      document.body.style.position = bodyPosition\n      document.body.style.top = '0px'\n      document.body.style.left = '0px'\n      window.scrollTo(scrollLeft, scrollTop)\n    }\n  }\n}())\n\nexport default toggleForbidScrollThrough\n","import './main.less'\nimport imageLoaded from './utils/image_loaded'\nimport imgAlloyFinger, {\n  triggerDoubleTab,\n  triggerPointEnd,\n  triggerRotateEnd\n} from './imgAlloyFinger'\nimport AlloyFinger from 'alloyfinger'\nimport orit from './utils/orientation'\nimport scrollThrough from './utils/scrollThrough'\nimport Transform from './utils/transform'\n\nconst VIEWER_CONTAINER_ID = 'pobi_mobile_viewer_container_id'\nconst VIEWER_SINGLE_IMAGE_ID = 'pobi_mobile_viewer_single_image_id'\n\nlet containerDom = null\nlet imgDom = null\nlet loadingDom = null\nlet orientation = orit.PORTRAIT\nlet viewerData = null\nlet alloyFinger = null\nlet containerAlloyFinger = null\n\nfunction noop () {}\n\n/**\n * Display image viewer\n * @param {Object} imgObj img element attr\n * @param {Object} options config options\n */\nexport const showViewer = (imgObj, options) => {\n  if (!imgObj || !imgObj.src) return\n  hideViewer(false)\n  scrollThrough(true)\n  let wrapOptions = {}\n  if (options) wrapOptions = { ...options }\n  const {\n    errorPlh,\n    onViewerHideListener = noop,\n    restDoms = [],\n    imgMoveFactor = 1.5,\n    imgMinScale = 1,\n    imgMaxScale = 2,\n    zIndex = null,\n    viewerBg = null,\n    clickClosable = true\n  } = wrapOptions\n  viewerData = { imgObj, options: { errorPlh, onViewerHideListener, restDoms, imgMoveFactor, imgMinScale, imgMaxScale, zIndex, viewerBg, clickClosable } }\n  orientation = orit.phoneOrientation()\n  orit.removeOrientationChangeListener(userOrientationListener)\n  orit.addOrientationChangeListener(userOrientationListener)\n  appendViewerContainer()\n  appendSingleViewer()\n  handleRestDoms()\n}\n\n/**\n * Hide image viewer\n * @param {Boolean} notifyUser options.onViewerHideListener call or not\n */\nexport const hideViewer = (notifyUser = true) => {\n  if (viewerData) {\n    if (notifyUser) {\n      viewerData.options.onViewerHideListener()\n    }\n    scrollThrough(false)\n    removeViewerContainer()\n  }\n}\n\nconst handleRestDoms = () => {\n  const { restDoms } = viewerData.options\n  if (restDoms.length > 0) {\n    let docfrag = document.createDocumentFragment()\n    restDoms.forEach(additionDom => {\n      if (additionDom.nodeType === 1) {\n        docfrag.appendChild(additionDom)\n      } else {\n        console.warn('Ignore invalid dom', additionDom)\n      }\n    })\n    containerDom.appendChild(docfrag)\n    docfrag = null\n  }\n}\n\nconst appendSingleViewer = () => {\n  const {\n    imgObj,\n    options: {\n      errorPlh,\n      imgMoveFactor,\n      imgMinScale,\n      imgMaxScale,\n      clickClosable\n    }\n  } = viewerData\n  let docfrag = document.createDocumentFragment()\n  loadingDom = document.createElement('div')\n  loadingDom.setAttribute('class', 'pobi_mobile_viewer_loading')\n  docfrag.appendChild(loadingDom)\n\n  imgDom = document.createElement('img')\n  imgDom.setAttribute('id', VIEWER_SINGLE_IMAGE_ID)\n\n  imgDom.setAttribute('src', imgObj.src)\n  imgDom.setAttribute('alt', imgObj.alt || '')\n  docfrag.appendChild(imgDom)\n\n  imgDom.addEventListener('click', imgClickListener)\n  const resetImgDom = (w, h) => {\n    let imgWidth = 0\n    if (w > window.innerWidth) {\n      imgWidth = window.innerWidth\n    } else {\n      imgWidth = w\n    }\n    imgDom.style.width = imgWidth + 'px'\n    imgDom.style.height = 'auto'\n  }\n  imageLoaded(imgObj.src, (w, h) => {\n    resetImgDom(w, h)\n  }, error => {\n    if (error) {\n      containerDom.removeChild(imgDom)\n      if (errorPlh) {\n        imageLoaded(errorPlh, (w, h) => {\n          containerDom.appendChild(imgDom)\n          imgDom.src = errorPlh\n          resetImgDom(w, h)\n        }, () => {\n          containerDom.removeChild(loadingDom)\n        })\n      } else {\n        containerDom.removeChild(loadingDom)\n      }\n    } else {\n      containerDom.removeChild(loadingDom)\n    }\n  })\n  alloyFinger = imgAlloyFinger(imgDom, {\n    multipointStartListener: () => imgDom.scaleX,\n    rotateListener: (evt) => { imgDom.rotateZ += evt.angle },\n    pinchListener: (evt, initScale) => { imgDom.scaleX = imgDom.scaleY = initScale * evt.zoom },\n    pressMoveListener: evt => {\n      imgDom.translateX += evt.deltaX * imgMoveFactor\n      imgDom.translateY += evt.deltaY * imgMoveFactor\n      triggerPointEnd(imgDom, imgMinScale, imgMaxScale)\n    },\n    singleTapListener: () => {\n      if(clickClosable) hideViewer()\n    },\n    doubleTapListener: evt => {\n      triggerDoubleTab(imgDom, evt, imgMinScale, imgMaxScale)\n    },\n    multipointEndListener: () => {\n      triggerPointEnd(imgDom, imgMinScale, imgMaxScale)\n      triggerRotateEnd(imgDom)\n    }\n  })\n  containerDom.appendChild(docfrag)\n  docfrag = null\n}\n\nconst appendViewerContainer = () => {\n  containerDom = document.getElementById(VIEWER_CONTAINER_ID)\n  if (!containerDom) {\n    containerDom = document.createElement('div')\n    containerDom.setAttribute('id', VIEWER_CONTAINER_ID)\n    const { zIndex, viewerBg } = viewerData.options\n    if (zIndex !== null) {\n      containerDom.style['z-index'] = zIndex\n    }\n    if (viewerBg !== null) {\n      containerDom.style.background = viewerBg\n    }\n    containerDom.addEventListener('click', viewerContainerClickListener)\n    document.body.appendChild(containerDom)\n    Transform(containerDom)\n    containerAlloyFinger = new AlloyFinger(containerDom, {\n      pressMove: function (evt) {\n        alloyFinger.pressMoveListener(evt)\n        evt.preventDefault()\n        evt.stopPropagation()\n      }\n    })\n    containerDom.style.transform = 'none'\n  }\n}\n\nconst imgClickListener = e => {\n  e.stopPropagation()\n  e.preventDefault()\n}\n\nconst viewerContainerClickListener = e => {\n  e.stopPropagation()\n  if(viewerData.options.clickClosable) hideViewer()\n}\n\nconst removeViewerContainer = () => {\n  containerDom && containerDom.removeEventListener('click', viewerContainerClickListener)\n  containerDom && document.body.removeChild(containerDom)\n  orit.removeOrientationChangeListener(userOrientationListener)\n  imgDom && imgDom.removeEventListener('click', imgClickListener)\n  containerDom = null\n  imgDom = null\n  loadingDom = null\n  viewerData = null\n  orientation = orit.PORTRAIT\n  if (alloyFinger) {\n    alloyFinger.destroy()\n    alloyFinger.pressMoveListener = null\n    alloyFinger = null\n  }\n  if (containerAlloyFinger) {\n    containerAlloyFinger.destroy()\n    containerAlloyFinger = null\n  }\n}\n\nconst userOrientationListener = () => {\n  const newOrientation = orit.phoneOrientation()\n  // orientation changed\n  if (newOrientation !== orientation && viewerData) {\n    // window.innerWidth and innerHeight changed not immediately\n    setTimeout(() => {\n      showViewer(viewerData.imgObj, viewerData.options)\n    }, 300)\n  }\n}\n","import './main.less'\nimport imageLoaded from './utils/image_loaded'\nimport Transform from './utils/transform'\nimport To from './utils/to'\nimport ease from './utils/ease'\nimport imgAlloyFinger, {\n  triggerDoubleTab,\n  triggerPointEnd\n} from './imgAlloyFinger'\nimport orit from './utils/orientation'\nimport scrollThrough from './utils/scrollThrough'\nimport IMG_EMPTY from './utils/error_plh'\n\nconst VIEWER_CONTAINER_ID = 'pobi_mobile_viewer_container_id'\nconst VIEWER_PANEL_ID = 'pobi_mobile_viewer_panel_id'\nconst VIEWER_SINGLE_IMAGE_ID = 'pobi_mobile_viewer_single_image_id'\nconst VIEWER_SINGLE_IMAGE_CONTAINER = 'pobi_mobile_viewer_single_image_container'\n\nlet containerDom = null\nlet panelDom = null\nlet currPage = 0\nlet orientation = orit.PORTRAIT\nlet viewerData = null\nlet viewerAlloyFinger = null\n\nfunction noop () {}\n\n/**\n * Display image list viewer\n * @param {Array} imgList image list\n * @param {Object} options config options\n * @param {Boolean} screenRotated device screen is rotated or not\n */\nexport const showImgListViewer = (imgList = [], options, screenRotated = false) => {\n  if (!Array.isArray(imgList) || imgList.length <= 0) return\n  const cachedCurrPage = currPage\n  hideImgListViewer(false)\n  scrollThrough(true)\n  initParams(imgList, options, screenRotated, cachedCurrPage)\n  appendViewerContainer()\n  appendViewerPanel()\n  scrollToFixedPage(viewerData.options.defaultPageIndex)\n  handleImgDoms()\n  handleRestDoms()\n  handleOrientationChange()\n}\n\n/**\n * Hide image list viewer\n * @param {Boolean} notifyUser options.onViewerHideListener call or not\n */\nexport const hideImgListViewer = (notifyUser = true) => {\n  if (viewerData) {\n    if (notifyUser) {\n      viewerData.options.onViewerHideListener()\n    }\n    scrollThrough(false)\n    removeViewerContainer()\n  }\n}\n\n/**\n * Set viewer current page\n * @param {Number} pageIndex page index, start with 0\n */\nexport const setCurrentPage = pageIndex => {\n  if (viewerData === null \n    || pageIndex < 0 \n    || pageIndex > viewerData.imgList.length - 1) {\n    return\n  }\n  const { imgList, options: { limit } } = viewerData\n  const lastIndex = imgList.length - 1\n  const updateDom = page => {\n    const currNode = panelDom.childNodes[page]\n    if (currNode && !currNode.hasAttribute('class')) {\n      panelDom.replaceChild(appendSingleViewer(imgList[page], page), currNode)\n    }\n  }\n  if (pageIndex === 0) {\n    let page = pageIndex\n    while (page < limit) {\n      updateDom(page)\n      page++\n    }\n  } else if (pageIndex === lastIndex) {\n    let page = pageIndex\n    const endedIndex = pageIndex - limit\n    while (page > endedIndex && page >= 0) {\n      updateDom(page)\n      page--\n    }\n  } else {\n    const halfCount = Math.floor(limit / 2)\n    let firstHalf = pageIndex\n    const firstHalfEndedIndex = firstHalf - halfCount\n    while (firstHalf >= firstHalfEndedIndex && firstHalf >= 0) {\n      updateDom(firstHalf)\n      firstHalf--\n    }\n    let secondHalf = pageIndex\n    const secondHalfEndedIndex = secondHalf + halfCount\n    while (secondHalf <= secondHalfEndedIndex && secondHalf <= lastIndex) {\n      updateDom(secondHalf)\n      secondHalf++\n    }\n  }\n  const currImgDom = getCurrImgDom()\n  if (currImgDom) {\n    const { scaleX, scaleY, translateX, translateY } = currImgDom\n    const { imgMinScale } = viewerData.options\n    if (scaleX !== imgMinScale || scaleY !== imgMinScale) {\n      new To(currImgDom, 'scaleX', imgMinScale, 200, ease)\n      new To(currImgDom, 'scaleY', imgMinScale, 200, ease)\n    }\n    if (translateX !== 0) {\n      new To(currImgDom, 'translateX', 0, 200, ease)\n    }\n    if (translateY !== 0) {\n      new To(currImgDom, 'translateY', 0, 200, ease)\n    }\n  }\n  scrollToFixedPage(pageIndex)\n}\n\nconst initParams = (imgList, options, screenRotation, cachedCurrPage) => {\n  let wrapOptions = {}\n  if (options) wrapOptions = { ...options }\n  const {\n    defaultPageIndex = 0,\n    errorPlh,\n    onPageChanged = noop,\n    onViewerHideListener = noop,\n    restDoms = [],\n    pageThreshold = 0.1,\n    pageDampingFactor = 0.9,\n    imgMoveFactor = 1.5,\n    imgMinScale = 1,\n    imgMaxScale = 2,\n    limit = 5,\n    zIndex = null,\n    viewerBg = null,\n    clickClosable = true\n  } = wrapOptions\n  if (!/^[0-9]+$/.test(limit) || limit < 3 || limit % 2 !== 1) {\n    throw Error('limit must be odd number and greater than 3')\n  }\n  viewerData = {\n    imgList: [...imgList],\n    options: {\n      limit,\n      defaultPageIndex: screenRotation ? cachedCurrPage : defaultPageIndex,\n      errorPlh,\n      onPageChanged,\n      onViewerHideListener,\n      restDoms,\n      pageThreshold,\n      pageDampingFactor,\n      imgMoveFactor,\n      imgMinScale,\n      imgMaxScale,\n      zIndex,\n      viewerBg,\n      clickClosable\n    }\n  }\n  if (viewerData.options.defaultPageIndex < 0 ||\n    viewerData.options.defaultPageIndex > imgList.length - 1) {\n    viewerData.options.defaultPageIndex = 0\n  }\n}\n\nconst registerViewerAlloyFinger = () => {\n  const {\n    pageDampingFactor,\n    imgMoveFactor,\n    pageThreshold,\n    imgMinScale,\n    imgMaxScale,\n    clickClosable\n  } = viewerData.options\n  const pageCount = viewerData.imgList.length\n  viewerAlloyFinger = imgAlloyFinger(containerDom, {\n    swipeListener: evt => {\n      const { translateX } = panelDom\n      const scrollFactor = Math.abs(translateX) / window.innerWidth\n      const page = Math.floor(scrollFactor)\n      const factor = scrollFactor - page\n      const fixedCurrPage = currPage\n      if (evt.direction === 'Left' &&\n        currPage < pageCount - 1 &&\n        (page >= currPage && factor >= pageThreshold)) {\n        currPage += 1\n        scrollToPage(getCurrImgDom(fixedCurrPage), currPage, fixedCurrPage)\n      } else if (evt.direction === 'Right' &&\n        currPage > 0 &&\n        (page < currPage && factor <= (1 - pageThreshold))) {\n        currPage -= 1\n        scrollToPage(getCurrImgDom(fixedCurrPage), currPage, fixedCurrPage)\n      } else {\n        scrollToPage(getCurrImgDom(), currPage, fixedCurrPage)\n      }\n    },\n    pressMoveListener: evt => {\n      const currImgDom = getCurrImgDom()\n      if (!evt || !currImgDom) return\n      const currPageTranslateStart = currPage * window.innerWidth\n      const { scaleX, width, translateX } = currImgDom\n      const { deltaX, deltaY } = evt\n      const panelTranslateX = pageDampingFactor * deltaX + panelDom.translateX\n      const realWidth = scaleX * width\n      const scaledWidth = Math.abs(realWidth - width) / 2\n      const imgTranslateX = translateX + deltaX * imgMoveFactor\n      if (Math.abs(deltaX) > Math.abs(deltaY)) {\n        if (realWidth <= width) { // img shrinked\n          panelDom.translateX = panelTranslateX\n        } else { // img enlarged\n          if (Math.abs(imgTranslateX) - scaledWidth <= 0) {\n            if (deltaX > 0) { // move to right\n              if (Math.abs(panelDom.translateX) > currPageTranslateStart) {\n                const panelReturnDis = panelTranslateX\n                if (Math.abs(panelReturnDis) < currPageTranslateStart) {\n                  panelDom.translateX = -currPageTranslateStart\n                } else {\n                  panelDom.translateX = panelReturnDis\n                }\n              } else {\n                currImgDom.translateX = imgTranslateX\n              }\n            } else { // move to left\n              if (Math.abs(panelDom.translateX) < currPageTranslateStart) {\n                const panelReturnDis = panelTranslateX\n                if (Math.abs(panelReturnDis) > currPageTranslateStart) {\n                  panelDom.translateX = -currPageTranslateStart\n                } else {\n                  panelDom.translateX = panelReturnDis\n                }\n              } else {\n                currImgDom.translateX = imgTranslateX\n              }\n            }\n          } else {\n            panelDom.translateX = panelTranslateX\n          }\n        }\n      } else {\n        currImgDom.translateY += deltaY * imgMoveFactor\n      }\n    },\n    touchEndListener: () => {\n      const { translateX } = panelDom\n      const scrollFactor = Math.abs(translateX) / window.innerWidth\n      const page = Math.floor(scrollFactor)\n      const factor = scrollFactor - page\n      const fixedCurrPage = currPage\n      let newPage = currPage\n      if (page < currPage) { // to prev page\n        if (factor <= (1 - pageThreshold)) {\n          newPage -= 1\n        }\n      } else { // to next page\n        if (factor >= pageThreshold) {\n          if (currPage + 1 !== pageCount && translateX < 0) {\n            newPage += 1\n          }\n        }\n      }\n      if (newPage === fixedCurrPage) {\n        scrollToPage(getCurrImgDom(fixedCurrPage), fixedCurrPage, fixedCurrPage)\n      }\n    },\n    singleTapListener: () => {\n      if(clickClosable) hideImgListViewer()\n    },\n    doubleTapListener: evt => {\n      triggerDoubleTab(getCurrImgDom(), evt, imgMinScale, imgMaxScale)\n    },\n    multipointEndListener: () => {\n      if (viewerData) {\n        triggerPointEnd(getCurrImgDom(), imgMinScale, imgMaxScale)\n      }\n    },\n    multipointStartListener: () => {\n      const dom = getCurrImgDom()\n      if (!dom) return 0\n      else return dom.scaleX\n    },\n    pinchListener: (evt, initScale) => {\n      const dom = getCurrImgDom()\n      if (!evt || !dom) return\n      dom.scaleX = dom.scaleY = initScale * evt.zoom \n    }\n  })\n  containerDom.style.transform = 'none'\n}\n\nconst handleOrientationChange = () => {\n  orientation = orit.phoneOrientation()\n  orit.removeOrientationChangeListener(userOrientationListener)\n  orit.addOrientationChangeListener(userOrientationListener)\n}\n\nconst userOrientationListener = () => {\n  const newOrientation = orit.phoneOrientation()\n  if (newOrientation !== orientation && viewerData) { // orientation changed\n    // window.innerWidth and window.innerHeight changed will delay\n    setTimeout(() => {\n      if (viewerData) {\n        showImgListViewer(viewerData.imgList, viewerData.options, true)\n      }\n    }, 300)\n  }\n}\n\nconst scrollToFixedPage = (page) => {\n  currPage = page\n  panelDom.translateX = -currPage * window.innerWidth\n  viewerData.options.onPageChanged(currPage)\n}\n\nconst handleImgDoms = () => {\n  let docfrag = document.createDocumentFragment()\n  const { imgList } = viewerData\n  const lastIndex = imgList.length - 1\n  const { limit } = viewerData.options\n  if (limit >= imgList.length) {\n    imgList.forEach((imgObj, index) => {\n      docfrag.appendChild(appendSingleViewer(imgObj, index))\n    })\n  } else {\n    const plDom = createImgPl()\n    imgList.forEach((imgObj, index) => {\n      if (currPage === 0) {\n        if (index < limit) {\n          docfrag.appendChild(appendSingleViewer(imgObj, index))\n        } else {\n          docfrag.appendChild(plDom.cloneNode())\n        }\n      } else if (currPage === lastIndex) {\n        if (index > lastIndex - limit) {\n          docfrag.appendChild(appendSingleViewer(imgObj, index))\n        } else {\n          docfrag.appendChild(plDom.cloneNode())\n        }\n      } else {\n        const halfCount = Math.floor(limit / 2)\n        if (index === currPage || (index >= currPage - halfCount && index <= currPage + halfCount)) {\n          docfrag.appendChild(appendSingleViewer(imgObj, index))\n        } else {\n          docfrag.appendChild(plDom.cloneNode())\n        }\n      }\n    })\n  }\n  panelDom.appendChild(docfrag)\n  docfrag = null\n}\n\nconst replaceImgDom = (prevPage) => {\n  if (viewerData === null) return \n  const { imgList, options: { limit } } = viewerData\n  const lastIndex = imgList.length - 1\n  if (currPage === 0 ||\n    currPage === lastIndex ||\n    currPage === prevPage ||\n    limit >= imgList.length) {\n    return\n  }\n  setTimeout(() => {\n    const imgContainerDoms = panelDom.childNodes\n    const currNode = imgContainerDoms[currPage]\n    if (currNode && !currNode.hasAttribute('class')) {\n      panelDom.replaceChild(appendSingleViewer(imgList[currPage], currPage), currNode)\n    }\n    const halfCount = Math.floor(limit / 2)\n    if (currPage > prevPage) { // scrolled to next page\n      const nextIndex = currPage + halfCount\n      const nextNode = imgContainerDoms[nextIndex]\n      if (nextNode && !nextNode.hasAttribute('class')) {\n        panelDom.replaceChild(appendSingleViewer(imgList[nextIndex], nextIndex), nextNode)\n      }\n      const ppIndex = currPage - halfCount - 1\n      if (ppIndex >= 0) {\n        const ppNode = imgContainerDoms[ppIndex]\n        panelDom.replaceChild(createImgPl(), ppNode)\n      }\n    } else if (currPage < prevPage) { // scrolled to prev page\n      const prevIndex = currPage - halfCount\n      const prevNode = imgContainerDoms[prevIndex]\n      if (prevNode && !prevNode.hasAttribute('class')) {\n        panelDom.replaceChild(appendSingleViewer(imgList[prevIndex], prevIndex), prevNode)\n      }\n      const nnIndex = prevPage + halfCount\n      if (nnIndex <= lastIndex) {\n        const nnNode = imgContainerDoms[nnIndex]\n        panelDom.replaceChild(createImgPl(), nnNode)\n      }\n    }\n  }, 0)\n}\n\nconst createImgPl = () => {\n  const pl = document.createElement('div')\n  pl.style.width = window.innerWidth + 'px'\n  pl.style.visibility = 'hidden'\n  return pl\n}\n\nconst handleRestDoms = () => {\n  const { restDoms } = viewerData.options\n  if (restDoms.length > 0) {\n    let docfrag = document.createDocumentFragment()\n    restDoms.forEach(additionDom => {\n      // element\n      if (additionDom.nodeType === 1) {\n        docfrag.appendChild(additionDom)\n      } else {\n        console.warn('Ignore invalid dom', additionDom)\n      }\n    })\n    containerDom.appendChild(docfrag)\n    docfrag = null\n  }\n}\n\nconst genImgId = index => `${VIEWER_SINGLE_IMAGE_ID}_${index}`\n\nconst scrollToPage = (dom, targetPage, prevPage) => {\n  // page changed, so we reset current page's translateX、scaleX、scaleY\n  if (targetPage !== prevPage) {\n    viewerData.options.onPageChanged(targetPage)\n    const { translateX, translateY, scaleX, scaleY } = dom\n    if (translateX !== 0) new To(dom, 'translateX', 0, 300, ease)\n    if (translateY !== 0) new To(dom, 'translateY', 0, 300, ease)\n    if (scaleX > 1) new To(dom, 'scaleX', 1, 300, ease)\n    if (scaleY > 1) new To(dom, 'scaleY', 1, 300, ease)\n  }\n  panelToX(targetPage, prevPage)\n}\n\nconst panelToX = (targetPage, prevPage) => {\n  const toX = -targetPage * window.innerWidth\n  if (Math.abs(panelDom.translateX) !== Math.abs(toX)) {\n    new To(panelDom, 'translateX', toX, 300, ease, replaceImgDom.bind(this, prevPage))\n  }\n}\n\nconst resetImgDom = (imgDom, w) => {\n  let imgWidth = 0\n  if (w > window.innerWidth) {\n    imgWidth = window.innerWidth\n  } else {\n    imgWidth = w\n  }\n  imgDom.style.width = imgWidth + 'px'\n  imgDom.style.height = 'auto'\n}\n\nconst imgOnloadListener = (imgDom, w, h, url) => {\n  imgDom.src = url\n  resetImgDom(imgDom, w, h)\n}\n\nconst imgOnerrorListener = (imgContainerDom, imgDom, loadingDom, error) => {\n  if (error) {\n    const {\n      errorPlh\n    } = viewerData.options\n    if (errorPlh) {\n      const successListener = function (w, h) {\n        imgOnloadListener(imgDom, w, h, errorPlh)\n      }\n      const errorListener = function () {\n        imgContainerDom.removeChild(loadingDom)\n      }\n      imageLoaded(errorPlh, successListener, errorListener)\n      imgDom.src = errorPlh\n    } else {\n      imgContainerDom.removeChild(loadingDom)\n    }\n  } else {\n    imgContainerDom.removeChild(loadingDom)\n  }\n}\n\nconst appendSingleViewer = (imgObj, index) => {\n  const imgContainerDom = document.createElement('div')\n  imgContainerDom.setAttribute('class', VIEWER_SINGLE_IMAGE_CONTAINER)\n  imgContainerDom.style.width = window.innerWidth + 'px'\n\n  const loadingDom = document.createElement('div')\n  loadingDom.setAttribute('class', 'pobi_mobile_viewer_loading')\n  imgContainerDom.appendChild(loadingDom)\n\n  const imgDom = document.createElement('img')\n  imgDom.setAttribute('id', genImgId(index))\n  imgDom.setAttribute('src', IMG_EMPTY)\n  imgDom.setAttribute('alt', imgObj.alt || '')\n  imgDom.style.width = window.innerWidth + 'px'\n  imgDom.style.height = window.innerWidth + 'px'\n  imgContainerDom.appendChild(imgDom)\n\n  imageLoaded(imgObj.src, function (w, h) {\n    imgOnloadListener(imgDom, w, h, imgObj.src)\n  }, function (error) {\n    imgOnerrorListener(imgContainerDom, imgDom, loadingDom, error)\n  })\n\n  Transform(imgDom)\n  return imgContainerDom\n}\n\nconst appendViewerContainer = () => {\n  containerDom = document.getElementById(VIEWER_CONTAINER_ID)\n  if (!containerDom) {\n    containerDom = document.createElement('div')\n    containerDom.setAttribute('id', VIEWER_CONTAINER_ID)\n    containerDom.style.width = window.innerWidth + 'px'\n    containerDom.style.height = window.innerHeight + 'px'\n    const { zIndex, viewerBg } = viewerData.options\n    if (zIndex !== null) {\n      containerDom.style['z-index'] = zIndex\n    }\n    if (viewerBg !== null) {\n      containerDom.style.background = viewerBg\n    }\n    document.body.appendChild(containerDom)\n    registerViewerAlloyFinger()\n  }\n}\n\nconst getCurrImgDom = (page = currPage) => {\n  return panelDom.childNodes[page].childNodes[0]\n}\n\nconst appendViewerPanel = () => {\n  panelDom = document.getElementById(VIEWER_PANEL_ID)\n  if (!panelDom) {\n    panelDom = document.createElement('div')\n    panelDom.setAttribute('id', VIEWER_PANEL_ID)\n    panelDom.style.width = (window.innerWidth * viewerData.imgList.length) + 'px'\n    panelDom.style.height = window.innerHeight + 'px'\n    containerDom.appendChild(panelDom)\n    Transform(panelDom)\n  }\n}\n\nconst removeViewerContainer = () => {\n  containerDom && document.body.removeChild(containerDom)\n  orit.removeOrientationChangeListener(userOrientationListener)\n  orientation = orit.PORTRAIT\n  containerDom = null\n  panelDom = null\n  currPage = 0\n  viewerData = null\n  if (viewerAlloyFinger) {\n    viewerAlloyFinger.destroy()\n    viewerAlloyFinger.pressMoveListener = null\n    viewerAlloyFinger = null\n  }\n}\n","export default 'data:img/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAQCAYAAADwMZRfAAAAIElEQVQ4T2NkoAJgpIIZDKOGYIbiaJiMhgkxeWvwpBMAKPgAEQSMpkEAAAAASUVORK5CYII='\n","import * as imgViewer from './imgViewer'\nimport * as imgListViewer from './imgListViewer'\n\nconst viewer = {\n  ...imgViewer,\n  ...imgListViewer\n}\n\nexport default viewer\nexport const showViewer = imgViewer.showViewer\nexport const hideViewer = imgViewer.hideViewer\nexport const showImgListViewer = imgListViewer.showImgListViewer\nexport const hideImgListViewer = imgListViewer.hideImgListViewer\nexport const setCurrentPage = imgListViewer.setCurrentPage\n"],"sourceRoot":""}